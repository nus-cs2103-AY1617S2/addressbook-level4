# A0093999Y
###### \java\guitests\DoneAndNotDoneCommandTest.java
``` java
public class DoneAndNotDoneCommandTest extends TaskManagerGuiTest {

    @Test
    public void doneTask_nonEmptyList_invalid() {
        assertDoneIndexInvalid("T100"); // invalid index
        assertNotDoneIndexInvalid("C100");
    }

    @Test
    public void doneTask_FutureList_success() throws IllegalArgumentException, IllegalValueException {
        // --- Done ---
        commandBox.runCommand("done F2");
        TestTask doneTask = td.getTypicalTasks()[1];
        doneTask.setDone(true);
        assertTrue(futureTaskListPanel.isListMatching(TestUtil.removeTaskFromList(td.getTypicalTasks(), 2)));
        assertTrue(completedTaskListPanel.isListMatching(doneTask));

        commandBox.runCommand("listcompleted");
        commandBox.runCommand("notdone C1");
        assertTrue(futureTaskListPanel.isListMatching(td.getTypicalTasks()));
        assertTrue(completedTaskListPanel.isListMatching());

    }

    @Test
    public void doneTask_emptyList() {
        commandBox.runCommand("clear");
        assertListSize(0);
        assertDoneIndexInvalid("F1"); // invalid index
        assertNotDoneIndexInvalid("C1"); // invalid index
    }

    // ------ Helper ------

    private void assertDoneIndexInvalid(String index) {
        commandBox.runCommand("done " + index);
        assertResultMessage(Messages.MESSAGE_INVALID_TASK_DISPLAYED_INDEX);
    }

    // private void assertDoneSuccess(int index) {
    // TestTask[] currentList = td.getTypicalTasks();
    // TestUtil.assignUiIndex(currentList);
    // TestTask doneTask = currentList[index - 1];
    // doneTask.setDone(true);
    // commandBox.runCommand("done " + doneTask.getID());
    // assertResultMessage(String.format(DoneCommand.MESSAGE_DONE_TASK_SUCCESS,
    // doneTask));
    // }

    private void assertNotDoneIndexInvalid(String index) {
        commandBox.runCommand("notdone " + index);
        assertResultMessage(Messages.MESSAGE_INVALID_TASK_DISPLAYED_INDEX);
    }

    // private void assertNotDoneSuccess(int index) {
    // TestTask[] currentList = td.getTypicalTasks();
    // TestUtil.assignUiIndex(currentList);
    // TestTask notDoneTask = currentList[index - 1];
    // notDoneTask.setDone(false);
    // commandBox.runCommand("notdone " + notDoneTask.getID());
    // assertResultMessage(String.format(NotDoneCommand.MESSAGE_NOTDONE_TASK_SUCCESS,
    // notDoneTask));
    // }

}
```
###### \java\guitests\TodayCommandTest.java
``` java
public class TodayCommandTest extends TaskManagerGuiTest {

    @Test
    public void doneTask_nonEmptyList_invalidIndex() {
        assertTodayIndexInvalid("T100"); // invalid index
    }

    @Test
    public void doneTask_nonEmptyList_success() throws IllegalArgumentException, IllegalValueException {
        commandBox.runCommand("today F1");
        assertTrue(futureTaskListPanel.isListMatching(TestUtil.removeTaskFromList(td.getTypicalTasks(), 1)));
        assertTrue(todayTaskListPanel.isListMatching(td.getTypicalTasks()[0]));
    }

    @Test
    public void todayTask_emptyList() {
        commandBox.runCommand("clear");
        assertListSize(0);
        assertTodayIndexInvalid("F1"); // invalid index
    }

    // ------------------Helper---------------------

    private void assertTodayIndexInvalid(String index) {
        commandBox.runCommand("done " + index);
        assertResultMessage(Messages.MESSAGE_INVALID_TASK_DISPLAYED_INDEX);
    }
}
```
###### \java\seedu\address\logic\LogicManagerTest.java
``` java
    @Test
    public void execute_done_invalidArgsFormat() {
        String expectedMessage = Messages.MESSAGE_INVALID_TASK_DISPLAYED_INDEX;
        assertCommandFailure("done ", expectedMessage);
    }

    @Test
    public void execute_doneIndexNotFound_errorMessageShown() throws Exception {
        assertIndexNotFoundBehaviorForCommand("done");
    }

    @Test
    public void execute_done_valid() throws Exception {
        TestDataHelper helper = new TestDataHelper();
        List<Task> threeTasks = helper.generateTaskList(3);
        // TestUtil.assignUiIndex(threeTasks);
        Task taskToDone = threeTasks.get(0);
        Task doneTask = new FloatingTask(taskToDone.getName(),
                taskToDone.getTags(), true, false);

        TaskManager expectedAB = helper.generateTaskManager(threeTasks);
        expectedAB.updateTask(0, doneTask);

        helper.addToModel(model, threeTasks);
        model.prepareTaskList(FXCollections.observableArrayList(),
                FXCollections.observableArrayList(),
                FXCollections.observableArrayList());
        assertCommandSuccess("done F1",
                String.format(DoneCommand.MESSAGE_DONE_TASK_SUCCESS, doneTask),
                expectedAB, expectedAB.getTaskList());
    }

    @Test
    public void execute_notdone_invalidArgsFormat() {
        String expectedMessage = String
                .format(Messages.MESSAGE_INVALID_TASK_DISPLAYED_INDEX);
        assertCommandFailure("notdone ", expectedMessage);
    }

    @Test
    public void execute_notdoneIndexNotFound_errorMessageShown()
            throws Exception {
        assertIndexNotFoundBehaviorForCommand("notdone");
    }

    @Test
    public void execute_notdone_valid() throws Exception {
        TestDataHelper helper = new TestDataHelper();
        List<Task> threeTasks = helper.generateTaskList(3);
        Task taskToNotDone = threeTasks.get(1);
        taskToNotDone.setDone(true);
        Task notDoneTask = new FloatingTask(taskToNotDone.getName(),
                taskToNotDone.getTags(), false, false);

        TaskManager expectedAB = helper.generateTaskManager(threeTasks);
        expectedAB.updateTask(1, notDoneTask);
        helper.addToModel(model, threeTasks);
        model.prepareTaskList(FXCollections.observableArrayList(),
                FXCollections.observableArrayList(),
                FXCollections.observableArrayList());
        assertCommandSuccess("notdone C1",
                String.format(NotDoneCommand.MESSAGE_NOTDONE_TASK_SUCCESS,
                        notDoneTask),
                expectedAB, expectedAB.getTaskList());

    }

```
###### \java\seedu\address\logic\LogicManagerTest.java
``` java
    @Test
    public void execute_editOnlyIndex_invalid() {
        String expectedMessage = String.format(MESSAGE_INVALID_COMMAND_FORMAT,
                EditCommand.MESSAGE_USAGE);
        assertCommandFailure("edit F1", expectedMessage);
    }

    @Test
    public void execute_editNoIndex_invalid() {
        String expectedMessage = String.format(MESSAGE_INVALID_COMMAND_FORMAT,
                EditCommand.MESSAGE_USAGE);
        assertCommandFailure("edit task2 #well", expectedMessage);
    }

```
###### \java\seedu\address\logic\LogicManagerTest.java
``` java
    @Test
    public void execute_renametag_invalidArgsFormat() {
        String expectedMessage = String.format(MESSAGE_INVALID_COMMAND_FORMAT,
                RenameTagCommand.MESSAGE_USAGE);
        assertCommandFailure("renametag ", expectedMessage);
    }

    @Test
    public void execute_renametag_onlyMatchesFullWordsInTags()
            throws Exception {
        TestDataHelper helper = new TestDataHelper();
        Task t1 = helper.generateTaskWithNameAndTags("bla bla bla", "KEY");
        Task t2 = helper.generateTaskWithNameAndTags("bla bla bceofeia",
                "blahbla", "KEY");
        Task r1 = helper.generateTaskWithNameAndTags("bla bla bla", "newkey");
        Task r2 = helper.generateTaskWithNameAndTags("bla bla bceofeia",
                "blahbla", "newkey");
        Task p1 = helper.generateTaskWithNameAndTags("KE Y", "nope");
        Task p2 = helper.generateTaskWithName("KEYKEYKEY sduauo");
        Task p3 = helper.generateTaskWithNameAndTags("KE YY", "KEYY");

        List<Task> fiveTasks = helper.generateTaskList(p1, t1, p2, t2, p3);
        List<Task> expectedList = helper.generateTaskList(p1, r1, p2, r2, p3);
        TaskManager expectedAB = helper.generateTaskManager(expectedList);
        helper.addToModel(model, fiveTasks);

        assertCommandSuccess("renametag KEY newkey",
                String.format(RenameTagCommand.MESSAGE_RENAME_TAG_SUCCESS,
                        "KEY", "newkey"),
                expectedAB, expectedList);
    }

    @Test
    public void execute_renametag_onlyMatchesCorrectCaseInTags()
            throws Exception {
        TestDataHelper helper = new TestDataHelper();
        Task t1 = helper.generateTaskWithNameAndTags("bla bla bla", "KEY");
        Task t2 = helper.generateTaskWithNameAndTags("bla bla bceofeia",
                "blahbla", "KEY");
        Task r1 = helper.generateTaskWithNameAndTags("bla bla bla", "newkey");
        Task r2 = helper.generateTaskWithNameAndTags("bla bla bceofeia",
                "blahbla", "newkey");
        Task p1 = helper.generateTaskWithNameAndTags("KE Y", "nope");
        Task p2 = helper.generateTaskWithName("KEYKEYKEY sduauo");
        Task p3 = helper.generateTaskWithNameAndTags("KE YY", "KEy");

        List<Task> fiveTasks = helper.generateTaskList(p1, t1, p2, t2, p3);
        List<Task> expectedList = helper.generateTaskList(p1, r1, p2, r2, p3);
        TaskManager expectedAB = helper.generateTaskManager(expectedList);
        helper.addToModel(model, fiveTasks);

        assertCommandSuccess("renametag KEY newkey",
                String.format(RenameTagCommand.MESSAGE_RENAME_TAG_SUCCESS,
                        "KEY", "newkey"),
                expectedAB, expectedList);
    }

    // DeleteTagCommand Tests

    @Test
    public void execute_deletetag_invalidArgsFormat() {
        String expectedMessage = String.format(MESSAGE_INVALID_COMMAND_FORMAT,
                DeleteTagCommand.MESSAGE_USAGE);
        assertCommandFailure("deletetag ", expectedMessage);
    }

    @Test
    public void execute_deletetag_onlyMatchesFullWordsInTags()
            throws Exception {
        TestDataHelper helper = new TestDataHelper();
        Task t1 = helper.generateTaskWithNameAndTags("bla bla bla", "KEY");
        Task t2 = helper.generateTaskWithNameAndTags("bla bla bceofeia",
                "blahbla", "KEY");
        Task r1 = helper.generateTaskWithNameAndTags("bla bla bla");
        Task r2 = helper.generateTaskWithNameAndTags("bla bla bceofeia",
                "blahbla");
        Task p1 = helper.generateTaskWithNameAndTags("KE Y", "nope");
        Task p2 = helper.generateTaskWithName("KEYKEYKEY sduauo");
        Task p3 = helper.generateTaskWithNameAndTags("KE YY", "KEYY");

        List<Task> fiveTasks = helper.generateTaskList(p1, t1, p2, t2, p3);
        List<Task> expectedList = helper.generateTaskList(p1, r1, p2, r2, p3);
        TaskManager expectedAB = helper.generateTaskManager(expectedList);
        helper.addToModel(model, fiveTasks);

        assertCommandSuccess("deletetag KEY", String
                .format(DeleteTagCommand.MESSAGE_DELETE_TAG_SUCCESS, "KEY"),
                expectedAB, expectedList);
    }

    @Test
    public void execute_deletetag_onlyMatchesCorrectCaseInTags()
            throws Exception {
        TestDataHelper helper = new TestDataHelper();
        Task t1 = helper.generateTaskWithNameAndTags("bla bla bla", "KEY");
        Task t2 = helper.generateTaskWithNameAndTags("bla bla bceofeia",
                "blahbla", "KEY");
        Task r1 = helper.generateTaskWithNameAndTags("bla bla bla");
        Task r2 = helper.generateTaskWithNameAndTags("bla bla bceofeia",
                "blahbla");
        Task p1 = helper.generateTaskWithNameAndTags("KE Y", "nope");
        Task p2 = helper.generateTaskWithName("KEYKEYKEY sduauo");
        Task p3 = helper.generateTaskWithNameAndTags("KE YY", "KEy");

        List<Task> fiveTasks = helper.generateTaskList(p1, t1, p2, t2, p3);
        List<Task> expectedList = helper.generateTaskList(p1, r1, p2, r2, p3);
        TaskManager expectedAB = helper.generateTaskManager(expectedList);
        helper.addToModel(model, fiveTasks);

        assertCommandSuccess("deletetag KEY", String
                .format(DeleteTagCommand.MESSAGE_DELETE_TAG_SUCCESS, "KEY"),
                expectedAB, expectedList);
    }

    // SaveToCommand Tests
```
