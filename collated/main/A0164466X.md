# A0164466X
###### \java\seedu\address\logic\commands\AddCommand.java
``` java
    @Override
    public CommandResult execute() throws CommandException {
        assert model != null;
        try {
            model.addTask(toAdd);
            
            String message = MESSAGE_SUCCESS + (toAdd.hasPassed() ? "\n" + MESSAGE_PASSED : "");
            return new CommandResult(String.format(message, toAdd));
        } catch (UniqueTaskList.DuplicatePersonException e) {
            throw new CommandException(MESSAGE_DUPLICATE_TASK);
        }

    }

}
```
###### \java\seedu\address\logic\commands\ListCommand.java
``` java
/**
 * Lists all tasks in the task manager to the user.
 */
public class ListCommand extends Command {

    public static final String COMMAND_WORD = "list";

    public static final String MESSAGE_SUCCESS = "Listed all tasks";


    @Override
    public CommandResult execute() {
        model.updateFilteredListToShowAll();
        return new CommandResult(MESSAGE_SUCCESS);
    }
}
```
###### \java\seedu\address\logic\commands\ListCompleteCommand.java
``` java
/**
 * Lists all tasks in the task manager to the user.
 */
public class ListCompleteCommand extends Command {

    public static final String COMMAND_WORD = "lc";

    public static final String MESSAGE_SUCCESS = "Listed all completed tasks";


    @Override
    public CommandResult execute() {
        model.updateFilteredListToShowComplete();
        return new CommandResult(MESSAGE_SUCCESS);
    }
}
```
###### \java\seedu\address\logic\commands\ListIncompleteCommand.java
``` java
/**
 * Lists all tasks in the task manager to the user.
 */
public class ListIncompleteCommand extends Command {

    public static final String COMMAND_WORD = "li";

    public static final String MESSAGE_SUCCESS = "Listed all incomplete tasks";


    @Override
    public CommandResult execute() {
        model.updateFilteredListToShowIncomplete();
        return new CommandResult(MESSAGE_SUCCESS);
    }
}
```
###### \java\seedu\address\logic\commands\MarkCommand.java
``` java
    /**
     * Creates and returns a {@code Person} with the details of {@code personToEdit}
     * edited to be complete.
     */
    private static ReadOnlyTask createMarkedPerson(ReadOnlyTask personToEdit) {
        assert personToEdit != null;

        UniqueTagList updatedTags =
                personToEdit
                .getTags()
                .except(UniqueTagList.build(
                                Tag.TAG_COMPLETE,
                                Tag.TAG_INCOMPLETE));

        try {
            updatedTags.add(new Tag(Tag.TAG_COMPLETE));
        } catch (DuplicateTagException e) {
            e.printStackTrace();
        } catch (IllegalValueException e) {
            e.printStackTrace();
        }

        return new Task(personToEdit.getName(),
                personToEdit.getStartDate(), personToEdit.getEndDate(), personToEdit.getGroup(), updatedTags);
}
}
```
###### \java\seedu\address\logic\commands\UnmarkCommand.java
``` java
    public static final String MESSAGE_MARK_PERSON_SUCCESS = "Marked task as incomplete: %1$s";
```
###### \java\seedu\address\logic\parser\Parser.java
``` java
        case ListCompleteCommand.COMMAND_WORD:
            return new ListCompleteCommand();
            
        case ListIncompleteCommand.COMMAND_WORD:
            return new ListIncompleteCommand();

        case ExitCommand.COMMAND_WORD:
            return new ExitCommand();

        case HelpCommand.COMMAND_WORD:
            return new HelpCommand();
            
        case ThemeCommand.COMMAND_WORD:
            return new ThemeCommand();

        case MarkCommand.COMMAND_WORD:
            return new MarkCommandParser().parse(arguments);

        case UnmarkCommand.COMMAND_WORD:
            return new UnmarkCommandParser().parse(arguments);

        case UndoCommand.COMMAND_WORD:
            return new UndoCommandParser().parse(arguments);

        case RedoCommand.COMMAND_WORD:
            return new RedoCommandParser().parse(arguments);

        default:
            return new IncorrectCommand(MESSAGE_UNKNOWN_COMMAND);
        }
    }

}
```
###### \java\seedu\address\model\Model.java
``` java
    /** Updates the filter of the filtered person list to show all complete tasks */
    void updateFilteredListToShowComplete();
    
    /** Updates the filter of the filtered person list to show all incomplete tasks */
    void updateFilteredListToShowIncomplete();

```
###### \java\seedu\address\model\ModelManager.java
``` java
    @Override
    public void updateFilteredListToShowComplete() {
        try {
            updateFilteredPersonList(new PredicateExpression(new TagQualifier(new UniqueTagList(Tag.TAG_COMPLETE))));
        } catch (DuplicateTagException e) {
            e.printStackTrace();
        } catch (IllegalValueException e) {
            e.printStackTrace();
        }

    }

    @Override
    public void updateFilteredListToShowIncomplete() {
        try {
            updateFilteredPersonList(new PredicateExpression(new TagQualifier(new UniqueTagList(Tag.TAG_INCOMPLETE))));
        } catch (DuplicateTagException e) {
            e.printStackTrace();
        } catch (IllegalValueException e) {
            e.printStackTrace();
        }
    }

    //=========== Filtered Person List Accessors =============================================================

    @Override
    public UnmodifiableObservableList<ReadOnlyTask> getFilteredPersonList() {
        return new UnmodifiableObservableList<>(filteredPersons);
    }

    @Override
    public void updateFilteredListToShowAll() {
        filteredPersons.setPredicate(null);
    }

    @Override
    public void updateFilteredPersonList(Set<String> keywords) {
        updateFilteredPersonList(new PredicateExpression(new NameQualifier(keywords)));
    }

    private void updateFilteredPersonList(Expression expression) {
        filteredPersons.setPredicate(expression::satisfies);
    }

    //========== Inner classes/interfaces used for filtering =================================================

    interface Expression {
        boolean satisfies(ReadOnlyTask person);
        String toString();
    }

    private class PredicateExpression implements Expression {

        private final Qualifier qualifier;

        PredicateExpression(Qualifier qualifier) {
            this.qualifier = qualifier;
        }

        @Override
        public boolean satisfies(ReadOnlyTask person) {
            return qualifier.run(person);
        }

        @Override
        public String toString() {
            return qualifier.toString();
        }
    }

    interface Qualifier {
        boolean run(ReadOnlyTask person);
        String toString();
    }

    private class NameQualifier implements Qualifier {
        private Set<String> nameKeyWords;

        NameQualifier(Set<String> nameKeyWords) {
            this.nameKeyWords = nameKeyWords;
        }

        @Override
        public boolean run(ReadOnlyTask person) {
            return nameKeyWords.stream()
                    .filter(keyword -> StringUtil.containsWordIgnoreCase(person.getName().fullName, keyword))
                    .findAny()
                    .isPresent();
        }

        @Override
        public String toString() {
            return "name=" + String.join(", ", nameKeyWords);
        }
    }
    
```
###### \java\seedu\address\model\ModelManager.java
``` java
    private class TagQualifier implements Qualifier {
        private UniqueTagList tags;
        
        TagQualifier(UniqueTagList tags){
            this.tags = tags;
        }
        
        @Override
        public boolean run(ReadOnlyTask task) {
            return task.getTags().equals(tags);
        }
        
        //Default toString() method used
        
    }

}
```
