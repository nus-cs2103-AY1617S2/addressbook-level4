# A0148038A
###### /java/seedu/whatsleft/commons/events/ui/EventPanelSelectionChangedEvent.java
``` java
/**
 * Represents a selection change in the Event List Panel
 */
public class EventPanelSelectionChangedEvent extends BaseEvent {


    private final ReadOnlyEvent newEventSelection;

    public EventPanelSelectionChangedEvent(ReadOnlyEvent newEventSelection) {
        this.newEventSelection = newEventSelection;
    }

    @Override
    public String toString() {
        return this.getClass().getSimpleName();
    }

    public ReadOnlyEvent getNewSelection() {
        return newEventSelection;
    }
}
```
###### /java/seedu/whatsleft/commons/events/ui/JumpToEventListRequestEvent.java
``` java
/**
 * Indicates a request to jump to the list of events
 */
public class JumpToEventListRequestEvent extends BaseEvent {

    public final int targetIndex;

    public JumpToEventListRequestEvent(int targetIndex) {
        this.targetIndex = targetIndex;
    }

    @Override
    public String toString() {
        return this.getClass().getSimpleName();
    }
}
```
###### /java/seedu/whatsleft/commons/events/ui/JumpToTaskListRequestEvent.java
``` java
/**
 * Indicates a request to jump to the list of tasks
 */
public class JumpToTaskListRequestEvent extends BaseEvent {

    public final int targetIndex;

    public JumpToTaskListRequestEvent(int targetIndex) {
        this.targetIndex = targetIndex;
    }

    @Override
    public String toString() {
        return this.getClass().getSimpleName();
    }
}
```
###### /java/seedu/whatsleft/commons/events/ui/TaskPanelSelectionChangedEvent.java
``` java
/**
 * Represents a selection change in the Task List Panel
 */
public class TaskPanelSelectionChangedEvent extends BaseEvent {


    private final ReadOnlyTask newTaskSelection;

    public TaskPanelSelectionChangedEvent(ReadOnlyTask newTaskSelection) {
        this.newTaskSelection = newTaskSelection;
    }

    @Override
    public String toString() {
        return this.getClass().getSimpleName();
    }

    public ReadOnlyTask getNewSelection() {
        return newTaskSelection;
    }
}
```
###### /java/seedu/whatsleft/logic/commands/AddCommand.java
``` java
    public static final String COMMAND_WORD = "add";

    public static final String MESSAGE_USAGE = COMMAND_WORD + ": Adds an activity to WhatsLeft.\n"
            + "Adds an event: add DESCRIPTION [st/START_TIME] sd/START_DATE"
            + " [et/END_TIME] [ed/END_DATE] [l/LOCATION] [ta/TAG]...\n"
            + "Example: " + COMMAND_WORD
            + " Project Discussion st/1200 sd/060817 et/1400 ed/060817 l/discussion room ta/formal\n"
            + "Adds a task(deadline): add DESCRIPTION p/PRIORITY [bt/BY_TIME] [bd/BY_DATE] [l/LOCATION] [ta/TAG]...\n"
            + "Example: " + COMMAND_WORD
            + " Project Report p/high bd/tmr ta/hardcopy";

    public static final String MESSAGE_EVENT_SUCCESS = "New event added: %1$s";
    public static final String MESSAGE_TASK_SUCCESS = "New task(deadline) added: %1$s";
    public static final String MESSAGE_SUCCESS_WITH_CLASH = "New event added but with possible clash! : %1$s";
    public static final String MESSAGE_DUPLICATE_ACTIVITY = "This activity already exists in WhatsLeft";
    public static final String MESSAGE_ILLEGAL_EVENT_END_DATETIME = "End Date/Time cannot be before Start Date/Time!";

    private final Logger logger = LogsCenter.getLogger(AddCommand.class);
    private Event toAddEvent;
    private Task toAddTask;

```
###### /java/seedu/whatsleft/logic/commands/AddCommand.java
``` java
    @Override
    public CommandResult execute() throws CommandException {
        assert model != null;
        logger.info("-------[Executing AddCommand] " + this.toString());
        try {
            model.storePreviousCommand("");
            ReadOnlyWhatsLeft currState = model.getWhatsLeft();
            ModelManager.setPreviousState(currState);
            if (toAddEvent != null && toAddTask == null) {
                return addingEvent();
            } else {
                return addingTask();
            }
        } catch (UniqueEventList.DuplicateEventException | UniqueTaskList.DuplicateTaskException e) {
            throw new CommandException(MESSAGE_DUPLICATE_ACTIVITY);
        }
    }

    @Override
    public String toString() {
        if (toAddEvent != null && toAddTask == null) {
            return COMMAND_WORD + this.toAddEvent.getAsText();
        } else {
            return COMMAND_WORD + this.toAddTask.getAsText();
        }
    }

```
###### /java/seedu/whatsleft/logic/commands/ClearCommand.java
``` java
/**
 * Clears events, tasks or everything in WhatsLeft.
 */
public class ClearCommand extends Command {

    public static final String COMMAND_WORD = "clear";

    public static final String MESSAGE_USAGE = COMMAND_WORD + ": clear all events/tasks in WhatsLeft\n"
            + "Parameter: type of the activities to clear\n"
            + "If no type is specified, the whole WhatsLeft will be cleared\n"
            + "Example: " + COMMAND_WORD + " ev\n"
            + "Example: " + COMMAND_WORD + "";
    public static final String MESSAGE_SUCCESS = "WhatsLeft has been cleared!";
    public static final String CLEAR_EVENTS_SUCCESS = "Event list in WhatsLeft has been cleared!";
    public static final String CLEAR_TASKS_SUCCESS = "Task list in WhatsLeft has been cleared!";

    public final String typeToClear;
    private final Logger logger = LogsCenter.getLogger(ClearCommand.class);

    public ClearCommand(String typeToClear) {
        assert typeToClear.equals("") || typeToClear.equals("ev") || typeToClear.equals("ts");
        this.typeToClear = typeToClear;
    }


    @Override
    public CommandResult execute() throws CommandException {
        logger.info("-------[Executing ClearCommand] " + this.toString());
        if (typeToClear.equals("ev")) {
            logger.info("-------[Executing ClearEventCommand] " + this.toString());
            assert model != null;
            ReadOnlyWhatsLeft currState = model.getWhatsLeft();
            ModelManager.setPreviousState(currState);
            model.resetEvent();
            //store for undo operation
            model.storePreviousCommand("clear");
            return new CommandResult(CLEAR_EVENTS_SUCCESS);
        } else if (typeToClear.equals("ts")) {
            logger.info("-------[Executing ClearTaskCommand] " + this.toString());
            assert model != null;
            ReadOnlyWhatsLeft currState = model.getWhatsLeft();
            ModelManager.setPreviousState(currState);
            model.resetTask();
            //store for undo operation
            model.storePreviousCommand("clear");
            return new CommandResult(CLEAR_TASKS_SUCCESS);
        } else { //clear all events and tasks if no type is specified
            logger.info("-------[Executing ClearAllCommand] " + this.toString());
            assert model != null;
            ReadOnlyWhatsLeft currState = model.getWhatsLeft();
            ModelManager.setPreviousState(currState);
            model.resetData(new WhatsLeft());
            //store for undo operation
            model.storePreviousCommand("clear");
            return new CommandResult(MESSAGE_SUCCESS);
        }

    }
}
```
###### /java/seedu/whatsleft/logic/commands/DeleteCommand.java
``` java
/**
 * Deletes an activity identified using it's last displayed index from WhatsLeft.
 */
public class DeleteCommand extends Command {

    public static final String COMMAND_WORD = "delete";

    public static final String MESSAGE_USAGE = COMMAND_WORD
            + ": Deletes the activity identified by the type and index number used in the last respective listing.\n"
            + "Parameters: TYPE (ev represents event or ts represents task) and INDEX (must be a positive integer)\n"
            + "Example: " + COMMAND_WORD + " ev" + " 1";

    public static final String MESSAGE_DELETE_EVENT_SUCCESS = "Deleted Event: %1$s";
    public static final String MESSAGE_DELETE_TASK_SUCCESS = "Deleted Task: %1$s";

    public final int targetIndex;
    public final String targetType;
    private final Logger logger = LogsCenter.getLogger(DeleteCommand.class);

```
###### /java/seedu/whatsleft/logic/commands/DeleteCommand.java
``` java
            logger.info("-------[Executing DeleteEventCommand] " + this.toString());

            if (lastShownEventList.size() < targetIndex) {
                logger.info("-------[Failed execution of DeleteEventCommand] " + this.toString());
                throw new CommandException(Messages.MESSAGE_INVALID_EVENT_DISPLAYED_INDEX);
            }

```
###### /java/seedu/whatsleft/logic/commands/DeleteCommand.java
``` java
            logger.info("-------[Executing DeleteTaskCommand] " + this.toString());

            if (lastShownTaskList.size() < targetIndex) {
                logger.info("-------[Failed execution of DeleteTaskCommand] " + this.toString());
                throw new CommandException(Messages.MESSAGE_INVALID_TASK_DISPLAYED_INDEX);
            }

```
###### /java/seedu/whatsleft/logic/commands/EditCommand.java
``` java
        assert model != null;
        logger.info("-------[Executing EditCommand] " + this.toString());

```
###### /java/seedu/whatsleft/logic/commands/EditCommand.java
``` java
        assert model != null;
        logger.info("-------[Executing EditEventCommand] " + this.toString());
        List<ReadOnlyEvent> lastShownEventList = model.getFilteredEventList();
        if (filteredActivityListIndex >= lastShownEventList.size()) {
            throw new CommandException(Messages.MESSAGE_INVALID_EVENT_DISPLAYED_INDEX);
        }

        Event eventToEdit = (Event) lastShownEventList.get(filteredActivityListIndex);
        try {
            if (!isValidEndDateTime()) {
                throw new IllegalValueException(MESSAGE_ILLEGAL_EVENT_END_DATETIME);
            }
            Event editedEvent = createEditedEvent(eventToEdit, editEventDescriptor);
            try {
            //store for undo operation
                ReadOnlyWhatsLeft currState = model.getWhatsLeft();
                ModelManager.setPreviousState(currState);
                model.updateEvent(eventToEdit, editedEvent);
            } catch (UniqueEventList.DuplicateEventException dpe) {
                throw new CommandException(MESSAGE_DUPLICATE_EVENT);
            }
            model.updateFilteredListToShowAll();
            model.storePreviousCommand("edit");

```
###### /java/seedu/whatsleft/logic/commands/EditCommand.java
``` java
            UnmodifiableObservableList<ReadOnlyEvent> lastShownList = model.getFilteredEventList();
            EventsCenter.getInstance().post(new JumpToEventListRequestEvent(lastShownList.indexOf(editedEvent)));

```
###### /java/seedu/whatsleft/logic/commands/EditCommand.java
``` java
        assert model != null;
        logger.info("-------[Executing EditTaskCommand] " + this.toString());

```
###### /java/seedu/whatsleft/logic/commands/HelpCommand.java
``` java
/**
 * Format full help instructions for every command for display.
 */
public class HelpCommand extends Command {

    public static final String COMMAND_WORD = "help";
    public final String helpCommandMessage;

    public static final String MESSAGE_USAGE = COMMAND_WORD + ": Shows program usage instructions.\n"
            + "Example: " + COMMAND_WORD;

    public static final String SHOWING_HELP_MESSAGE = "Opened help window.";

    public HelpCommand(String commandWord) {
        this.helpCommandMessage = commandWord;
    }
    @Override
    public CommandResult execute() {
        if (helpCommandMessage.equals("")) {
            EventsCenter.getInstance().post(new ShowHelpRequestEvent());
            model.storePreviousCommand("");
            return new CommandResult(SHOWING_HELP_MESSAGE);
        } else {
            return new CommandResult(helpCommandMessage);
        }
    }
}
```
###### /java/seedu/whatsleft/logic/commands/IncorrectCommand.java
``` java
/**
 * Represents an incorrect command. Upon execution, throws a CommandException with feedback to the user.
 */
public class IncorrectCommand extends Command {

    public final String feedbackToUser;

    public IncorrectCommand(String feedbackToUser) {
        this.feedbackToUser = feedbackToUser;
    }

    @Override
    public CommandResult execute() throws CommandException {
        model.storePreviousCommand("");
        throw new CommandException(feedbackToUser);
    }

}

```
###### /java/seedu/whatsleft/logic/commands/ListCommand.java
``` java
/**
 * Lists all activities in WhatsLeft to the user.
 */
public class ListCommand extends Command {

    public static final String COMMAND_WORD = "list";

    public static final String MESSAGE_USAGE = "Enter 'list' in command window to view all activities in WhatsLeft\n";

    public static final String MESSAGE_SUCCESS = "Listed all activities";

    @Override
    public CommandResult execute() {
        model.updateFilteredListToShowAll();
        model.storePreviousCommand("");
        EventsCenter.getInstance().post(new JumpToEventListRequestEvent(0));
        EventsCenter.getInstance().post(new JumpToTaskListRequestEvent(0));
        return new CommandResult(MESSAGE_SUCCESS);
    }
}
```
###### /java/seedu/whatsleft/logic/parser/ClearCommandParser.java
``` java
/**
 * Parses input arguments and creates a new ClearCommand object
 */
public class ClearCommandParser {
   /**
     * Parses the given {@code String} of arguments in the context of the ClearCommand
     * and returns an ClearCommand object for execution.
     */
    public Command parse(String args) {
        String type = ParserUtil.parseClearType(args);
        if (!type.equals("") && !type.equalsIgnoreCase("ev") && !type.equalsIgnoreCase("ts")) {
            return new IncorrectCommand(String.format(MESSAGE_INVALID_COMMAND_FORMAT, ClearCommand.MESSAGE_USAGE));
        }

        return new ClearCommand(type.toLowerCase());
    }
}
```
###### /java/seedu/whatsleft/logic/parser/HelpCommandParser.java
``` java
/**
 * Parses input arguments and creates a new HelpCommand object
 */
public class HelpCommandParser {

    public HelpCommandParser() {
    }

    private static final Pattern HELP_ARGS_FORMAT = Pattern.compile("(?<arguments>.*)");

    public Command parse (String args) {
        final Matcher matcher = HELP_ARGS_FORMAT.matcher(args.trim());
        if (!matcher.matches()) {
            return new IncorrectCommand(String.format(MESSAGE_INVALID_COMMAND_FORMAT, HelpCommand.MESSAGE_USAGE));
        }

        switch (matcher.group("arguments").toLowerCase()) {

        case AddCommand.COMMAND_WORD:
            return new HelpCommand(AddCommand.MESSAGE_USAGE);

        case EditCommand.COMMAND_WORD:
            return new HelpCommand(EditCommand.MESSAGE_USAGE);

        case SelectCommand.COMMAND_WORD:
            return new HelpCommand(SelectCommand.MESSAGE_USAGE);

        case DeleteCommand.COMMAND_WORD:
            return new HelpCommand(DeleteCommand.MESSAGE_USAGE);

        case ClearCommand.COMMAND_WORD:
            return new HelpCommand(ClearCommand.MESSAGE_USAGE);

        case ShowCommand.COMMAND_WORD:
            return new HelpCommand(ShowCommand.MESSAGE_USAGE);

        case FindCommand.COMMAND_WORD:
            return new HelpCommand(FindCommand.MESSAGE_USAGE);

        case FinishCommand.COMMAND_WORD:
            return new HelpCommand(FinishCommand.MESSAGE_USAGE);

        case RedoCommand.COMMAND_WORD:
            return new HelpCommand(RedoCommand.MESSAGE_USAGE);

        case SaveCommand.COMMAND_WORD:
            return new HelpCommand(SaveCommand.MESSAGE_USAGE);

        case ReadCommand.COMMAND_WORD:
            return new HelpCommand(ReadCommand.MESSAGE_USAGE);

        case CalendarViewCommand.COMMAND_WORD:
            return new HelpCommand(CalendarViewCommand.MESSAGE_USAGE);

        case ListCommand.COMMAND_WORD:
            return new HelpCommand(ListCommand.MESSAGE_USAGE);

        case ExitCommand.COMMAND_WORD:
            return new HelpCommand(ExitCommand.MESSAGE_USAGE);

        case UndoCommand.COMMAND_WORD:
            return new HelpCommand(UndoCommand.MESSAGE_USAGE);

        case CalendarRefreshCommand.COMMAND_WORD:
            return new HelpCommand(CalendarRefreshCommand.MESSAGE_USAGE);

        case RecurCommand.COMMAND_WORD:
            return new HelpCommand(RecurCommand.MESSAGE_USAGE);

        default:
            return new HelpCommand("");
        }
    }
}
```
###### /java/seedu/whatsleft/logic/parser/ParserUtil.java
``` java
    public static String parseClearType(String command) {
        String trimmedCommand = command.trim();
        return trimmedCommand;
    }
}
```
###### /java/seedu/whatsleft/model/activity/ByDate.java
``` java
/**
 * Represents a taks's due date in WhatsLeft.
 * Guarantees: immutable; is valid as declared in {@link #isValidByDate(String)}
 */
public class ByDate {

    public static final String MESSAGE_BYDATE_CONSTRAINTS =
            "Task ByDate can take only 6 digits, and it should be in DDMMYY format (Day-Month-Year)\n"
            + "today, tmr, mon, tue, wed, thur, fri, sat, sun, next, following are also accecptable\n"
            + "Example: next fri\n"
            + "Example: 250317\n";

    public final LocalDate value;
    public final boolean isExisting; // to check whether the task has a by date

    public LocalDate getValue() {
        return value;
    }

```
###### /java/seedu/whatsleft/model/activity/ByDate.java
``` java
    /**
     * Validates given by date. If given in digits, tries to parse into date. If given in non-digit
     * format, tries to process using the DateTimeNLUtil class that tries to read natural language
     *
     * @param a byDateArg in string format
     * @throws IllegalValueException if given start date is invalid.
     */
    public ByDate(String byDateArg) throws IllegalValueException {
        if (byDateArg == null) {
            this.value = null;
            this.isExisting = false;
        } else {
            if (byDateArg.matches("\\d+")) {
                try {
                    this.value = StringUtil.parseStringToDate(byDateArg);
                    this.isExisting = true;
                } catch (DateTimeException illegalValueException) {
                    throw new IllegalValueException(MESSAGE_BYDATE_CONSTRAINTS);
                }
            } else {
                DateTimeNLUtil dt = new DateTimeNLUtil();
                String nldate = dt.getDate(byDateArg);
                this.value = StringUtil.parseStringToDate(nldate);
                this.isExisting = true;
            }
        }
    }

```
###### /java/seedu/whatsleft/model/activity/ByDate.java
``` java
    /**
     * Checks if given ByDate string is valid
     *
     * @param a by date string to be checked
     * @return a boolean variable, true if it is valid, false otherwise
     */
```
###### /java/seedu/whatsleft/model/activity/ByDate.java
``` java
    /**
     * Check whether a by date is present
     *
     * @return a boolean variable, true if by date is present, false otherwise
     */
    public boolean isExisting() {
        return this.isExisting;
    }

    /**
     * Compare with another ByDate object
     *
     * @param a ByDate object
     * @return -1 if this ByDate object is earlier than the given ByDate object
     */
    public int compareTo(ByDate o) {
        return this.getValue().compareTo(o.getValue());
    }

}
```
###### /java/seedu/whatsleft/model/activity/ByTime.java
``` java
/**
 * Represents a task's due time in WhatsLeft.
 * Guarantees: immutable; is valid as declared in {@link #isValidByTime(String)}
 */
public class ByTime {

    public static final String MESSAGE_BYTIME_CONSTRAINTS =
            "Deadline ByTime can only be in this format: hhmm, e.g. 1300";

    public final LocalTime value;
    public final boolean isExisting; // to check whether the task has a by time

    /**
     * Validates given start time.
     *
     * @param byTime Argument in string format
     * @throws IllegalValueException if given start time is invalid.
     */
    public ByTime(String byTimeArg) throws IllegalValueException {
        if (byTimeArg == null) {
            this.value = null;
            this.isExisting = false;
        } else {
            try {
                this.value = StringUtil.parseStringToTime(byTimeArg);
                this.isExisting = true;
            } catch (DateTimeException illegalValueException) {
                throw new IllegalValueException(MESSAGE_BYTIME_CONSTRAINTS);
            }
        }
    }

```
###### /java/seedu/whatsleft/model/activity/ByTime.java
``` java
    /**
     * check whether a by time is present
     * @return a boolean variable, true if by time is present, false otherwise
     */
    public boolean isExisting() {
        return this.isExisting;
    }

    /**
     * Compare with another ByTime object
     *
     * @param a ByTime object
     * @return -1 if this ByTime object is earlier than the given ByTime object
     */
    public int compareTo(ByTime o) {
        return this.getValue().compareTo(o.getValue());
    }
}
```
###### /java/seedu/whatsleft/model/activity/Description.java
``` java
/**
 * Represents an Activity's description in WhatsLeft.
 * Guarantees: immutable; is valid as declared in {@link #isValidDescription(String)}
 */
public class Description {

    public static final String MESSAGE_DESCRIPTION_CONSTRAINTS =
            "Description can take any values, and it should not be blank";

    /*
     * The first character of the address must not be a whitespace,
     * otherwise " " (a blank string) becomes a valid input.
     */
    public static final String DESCRIPTION_VALIDATION_REGEX = "[^\\s].*";

    public final String description;

    /**
     * Validates given description.
     *
     * @param a description in string format
     * @throws IllegalValueException if given description string is invalid.
     */
    public Description(String description) throws IllegalValueException {
        assert description != null;
        String trimmedDescription = description.trim();
        if (!isValidDescription(trimmedDescription)) {
            throw new IllegalValueException(MESSAGE_DESCRIPTION_CONSTRAINTS);
        }
        this.description = trimmedDescription;
    }

    /**
     * Check whether the description is valid
     *
     * @param a description string to be check
     * @return a boolean variable, true if the given string as a valid activity description, false otherwise
     */
    public static boolean isValidDescription(String test) {
        return test.matches(DESCRIPTION_VALIDATION_REGEX);
    }


    @Override
    public String toString() {
        return description;
    }

    @Override
    public boolean equals(Object other) {
        return other == this // short circuit if same object
                || (other instanceof Description // instanceof handles nulls
                && this.description.equals(((Description) other).description)); // state check
    }

    @Override
    public int hashCode() {
        return description.hashCode();
    }

}
```
###### /java/seedu/whatsleft/model/activity/EndDate.java
``` java
/**
 * Represents an Event's EndDate in WhatsLeft.
 * Guarantees: immutable; is valid as declared in {@link #isValidEndDate(String)}
 */
public class EndDate {

    public static final String MESSAGE_ENDDATE_CONSTRAINTS =
            "Event End Date can take only 6 digits, and it should be in DDMMYY format (Day-Month-Year)\n"
            + "today, tmr, mon, tue, wed, thur, fri, sat, sun, next, following are also accecptable\n"
            + "Example: next fri\n"
            + "Example: 250317\n";

    public final LocalDate value;
```
###### /java/seedu/whatsleft/model/activity/EndDate.java
``` java
    /**
     * Compare with another EndDate object
     *
     * @param a EndDate object
     * @return -1 if this EndDate object is earlier than the given EndDate object
     */
    public int compareTo(EndDate o) {
        return this.getValue().compareTo(o.getValue());
    }

}
```
###### /java/seedu/whatsleft/model/activity/EndTime.java
``` java
/**
 * Represents an Event's EndTime in WhatsLeft.
 * Guarantees: immutable; is valid as declared in {@link #isValidEndTime(String)}
 */
public class EndTime {

    public static final String MESSAGE_ENDTIME_CONSTRAINTS =
            "Event end time can only be in this format: hhmm, e.g. 1300";

    public final LocalTime value;

    /**
     * Validates given start time.
     *
     * @param an endTimeArg string to check
     * @throws IllegalValueException if given start time is invalid.
     */
    public EndTime(String endTimeArg) throws IllegalValueException {
        if (endTimeArg == null) {
            this.value = null;
        } else {
            try {
                this.value = StringUtil.parseStringToTime(endTimeArg);
            } catch (DateTimeException illegalValueException) {
                throw new IllegalValueException(MESSAGE_ENDTIME_CONSTRAINTS);
            }
        }
    }

```
###### /java/seedu/whatsleft/model/activity/Event.java
``` java
/**
 * Represents an event in WhatsLeft
 */
public class Event implements ReadOnlyEvent {

    private Description description;
    private StartTime startTime;
    private StartDate startDate;
    private EndTime endTime;
    private EndDate endDate;
    private Location location;

    private UniqueTagList tags;

    /**
     * Create an event in WhatsLeft
     * Description and start date must be present and not null.
     * @param Description, StartTime, StartDate, EndTime, EndDate, Location, UniqueTagList
     * @throws IllegalValueException
     */
    public Event(Description description, StartTime startTime, StartDate startDate,
            EndTime endTime, EndDate endDate, Location location, UniqueTagList tags) {

        //check description and start date are present
        assert !CollectionUtil.isAnyNull(description, startDate);

        this.description = description;
        this.startTime = startTime;
        this.startDate = startDate;
        this.endTime = endTime;
        this.endDate = endDate;
        this.location = location;
        this.tags = new UniqueTagList(tags); // protect internal tags from changes in the arg list
    }

    /**
     * Creates a copy of the given ReadOnlyEvent.
     */
    public Event(ReadOnlyEvent source) {
        this(source.getDescription(), source.getStartTime(), source.getStartDate(),
                source.getEndTime(), source.getEndDate(), source.getLocation(), source.getTags());
    }

    public void setDescription(Description description) {
        assert description != null; // description must be present
        this.description = description;
    }

    @Override
    public Description getDescription() {
        return description;
    }

    public void setStartTime(StartTime startTime) {
        this.startTime = startTime;
    }

    @Override
    public StartTime getStartTime() {
        return startTime;
    }

    public void setStartDate(StartDate startDate) {
        assert startDate != null; // start date must be present
        this.startDate = startDate;
    }

    @Override
    public StartDate getStartDate() {
        return startDate;
    }

    public void setEndTime(EndTime endTime) {
        this.endTime = endTime;
    }

    @Override
    public EndTime getEndTime() {
        return endTime;
    }

    public void setEndDate(EndDate endDate) {
        this.endDate = endDate;
    }

    @Override
    public EndDate getEndDate() {
        return endDate;
    }

    public void setLocation(Location location) {
        this.location = location;
    }

    @Override
    public Location getLocation() {
        return location;
    }

    @Override
    public UniqueTagList getTags() {
        return new UniqueTagList(tags);
    }
```
###### /java/seedu/whatsleft/model/activity/Event.java
``` java
    @Override
    public String toString() {
        return getAsText();
    }

    /**
     * get description shown in the card in event list panel
     *
     * @return a string that represents description of the event
     */
    @Override
    public String getDescriptionToShow() {
        return getDescription().toString();
    }

    /**
     * get duration shown in the card in event list panel
     *
     * @return a string that represents duration of the event
     */
    @Override
    public String getDurationToShow() {
        return getStartTime().toString() + " " + getStartDate().toString()
               +  " ~ " + getEndTime().toString() + " " + getEndDate().toString();
    }

    /**
     * get location shown in the card in event list panel
     *
     * @return a string that represents location of the event
     */
    @Override
    public String getLocationToShow() {
        if (getLocation().toString() != null) {
            return "@" + getLocation().toString();
        } else {
            return null;
        }
    }

    /**
     * get tags shown in the card in event list panel
     *
     * @return a list of strings that represents tags of the event
     */
    @Override
    public List<String> getTagsToShow() {
        return tags
                .asObservableList()
                .stream()
                .map(tag -> tag.tagName)
                .collect(Collectors.toList());
    }
}
```
###### /java/seedu/whatsleft/model/activity/Location.java
``` java
/**
 * Represents an activity's location in WhatsLeft.
 * Guarantees: immutable; is valid as declared in {@link #isValidLocation(String)}
 */
public class Location {

    public static final String MESSAGE_LOCATION_CONSTRAINTS =
            "Activity location can take any values.\n";

    /*
     * The first character of the location must not be a whitespace,
     * otherwise " " (a blank string) becomes a valid input.
     */
    public static final String LOCATION_VALIDATION_REGEX = "[^\\s].*";

    public final String value;

    /**
     * Validates given location.
     *
     * @param a location in string format to check
     * @throws IllegalValueException if given location string is invalid.
     */
    public Location(String location) throws IllegalValueException {
        if (location == null) {
            this.value = null;
        } else {
            if (!isValidLocation(location)) {
                throw new IllegalValueException(MESSAGE_LOCATION_CONSTRAINTS);
            }
            this.value = location;
        }
    }

    /**
     * Returns true if a given string is a valid activity location.
     */
    public static boolean isValidLocation(String test) {
        if (test == null) {
            return true;
        }
        if (test == "") {
            return false;
        }
        return test.matches(LOCATION_VALIDATION_REGEX);
    }

    @Override
    public String toString() {
        return value;
    }

    @Override
    public boolean equals(Object other) {
        return other == this // short circuit if same object
                || (other instanceof Location // instanceof handles nulls
                && this.value.equals(((Location) other).value)); // state check
    }

    @Override
    public int hashCode() {
        return value.hashCode();
    }

}
```
###### /java/seedu/whatsleft/model/activity/Priority.java
``` java
/**
 * Represents an task's priority level in WhatsLeft.
 * Guarantees: immutable; is valid as declared in {@link #isValidPriority(String)}
 */
public class Priority {

    public static final String MESSAGE_PRIORITY_CONSTRAINTS = "Task priority should only be high/h, medium/m or low/l";

    public final String value;
    public final int integerLevel; //used to compare priority

    /**
     * creates a Priority object
     *
     * @param a priority in string format to check
     * @throws IllegalValueException if given priority level is invalid.
     */
    public Priority(String priority) throws IllegalValueException {
        priority = priority.toLowerCase();
        if (priority.equals("high") || priority.equals("h")) {
            this.value = "high";
            this.integerLevel = 1;
        } else if (priority.equals("medium") || priority.equals("m")) {
            this.value = "medium";
            this.integerLevel = 2;
        } else if (priority.equals("low") || priority.equals("l")) {
            this.value = "low";
            this.integerLevel = 3;
        } else {
            throw new IllegalValueException(MESSAGE_PRIORITY_CONSTRAINTS);
        }
    }

    /**
     * Check whether a string is a valid priority
     *
     * @param arg in string format
     * @return a boolean variable, true if it is valid, false otherwise
     */
    public static boolean isValidPriority(String arg) {
        if (arg.equals("high") || arg.equals("h")
                || arg.equals("medium") || arg.equals("m")
                || arg.equals("low") || arg.equals("l")) {
            return true;
        } else {
            return false;
        }
    }

    public String toString() {
        return value;
    }

    @Override
    public boolean equals(Object other) {
        return other == this // short circuit if same object
                || (other instanceof Priority // instanceof handles nulls
                && this.value.equals(((Priority) other).value)); // state check
    }

    @Override
    public int hashCode() {
        return value.hashCode();
    }

    /**
     * Compare with another Priority object
     *
     * @param a Priority object
     * @return -1 if this Priority object is higher than the given Priority object
     */
    public int compareTo(Priority o) {
        return this.integerLevel - o.integerLevel;
    }

}
```
###### /java/seedu/whatsleft/model/activity/ReadOnlyEvent.java
``` java
/**
 * A read-only immutable interface for an Event in WhatsLeft.
 * Implementations should guarantee: details are present and not null, field values are validated.
 */
public interface ReadOnlyEvent {

    Description getDescription();
    StartTime getStartTime();
    EndTime getEndTime();
    StartDate getStartDate();
    EndDate getEndDate();
    Location getLocation();
    String getDescriptionToShow();
    String getDurationToShow();
    String getLocationToShow();
    List<String> getTagsToShow();

    /**
     * The returned TagList is a deep copy of the internal TagList,
     * changes on the returned list will not affect the event's internal tags.
     */
    UniqueTagList getTags();

    /**
     * Returns true if both have the same state. (interfaces cannot override .equals)
     */
    default boolean isSameStateAs(ReadOnlyEvent other) {
        return other == this // short circuit if same object
                || (other != null // this is first to avoid NPE below
                && (other.getDescription().toString() == null ? this.getDescription().toString() == null :
                    other.getDescription().toString().equals(this.getDescription().
                            toString())) // state checks here onwards
                && (other.getStartTime().toString() == null ? this.getStartTime().toString() == null :
                    other.getStartTime().toString().equals(this.getStartTime().toString()))
                && (other.getEndTime().toString() == null ? this.getEndTime().toString() == null :
                    other.getEndTime().toString().equals(this.getEndTime().toString()))
                && (other.getStartDate().toString() == null ? this.getStartDate().toString() == null :
                    other.getStartDate().toString().equals(this.getStartDate().toString()))
                && (other.getEndDate().toString() == null ? this.getEndDate().toString() == null :
                    other.getEndDate().toString().equals(this.getEndDate().toString()))
                && (other.getLocation().toString() == null ? this.getLocation().toString() == null :
                    other.getLocation().toString().equals(this.getLocation().toString())));
    }

    /**
     * Formats the event as text, showing all details.
     */
    default String getAsText() {
        final StringBuilder builder = new StringBuilder();
        builder.append(getDescription())
                .append(" Start Time: ")
                .append(getStartTime().toString())
                .append(" Start Date: ")
                .append(getStartDate().toString())
                .append(" End Time: ")
                .append(getEndTime().toString())
                .append(" End Date: ")
                .append(getEndDate().toString())
                .append(" Location: ")
                .append(getLocation())
                .append(" Tags: ");
        getTags().forEach(builder::append);
        return builder.toString();
    }

```
###### /java/seedu/whatsleft/model/activity/ReadOnlyEvent.java
``` java
    /**
     * compare events by start date, start time, end date, end time
     * @return a comparator of ReadOnlyEvent
     */
    static Comparator<? super ReadOnlyEvent> getComparator() {
        // sort by start date first
        Comparator<ReadOnlyEvent> byStartDate = (e1, e2) -> e1.getStartDate().compareTo(e2.getStartDate());

        // then sort by start time
        Comparator<ReadOnlyEvent> byStartTime = (e1, e2) -> e1.getStartTime().compareTo(e2.getStartTime());

        // then sort by end date
        Comparator<ReadOnlyEvent> byEndDate = (e1, e2) -> e1.getEndDate().compareTo(e2.getEndDate());

        // then sort by end time
        Comparator<ReadOnlyEvent> byEndTime = (e1, e2) -> e1.getEndTime().compareTo(e2.getEndTime());

        return byStartDate.thenComparing(byStartTime).thenComparing(byEndDate).thenComparing(byEndTime);
    }

```
###### /java/seedu/whatsleft/model/activity/ReadOnlyTask.java
``` java
    /**
     * compare tasks by deadline and priority
     * @return -1 if this task is more urgent than the given task
     */
    default int compareTo(ReadOnlyTask o) {
        if (!this.hasDeadline() && !o.hasDeadline()) { // floating task is sorted by priority
            return this.getPriority().compareTo(o.getPriority());
        } else if (this.hasDeadline() && !o.hasDeadline()) { // deadline is before floating task
            return -1;
        } else if (!this.hasDeadline() && o.hasDeadline()) { // floating task is after deadline
            return 1;
        } else { // compare two deadlines
            if (!this.getByDate().equals(o.getByDate())) {
                return this.getByDate().compareTo(o.getByDate());
            } else if (!this.getByTime().equals(o.getByTime())) {
                return this.getByTime().compareTo(o.getByTime());
            } else {
                return this.getPriority().compareTo(o.getPriority());
            }
        }
    }

    /**
     * compare tasks
     * @return a comparator of ReadOnlyTask
     */
    static Comparator<? super ReadOnlyTask> getComparator() {
        Comparator<ReadOnlyTask> byTask = (t1, t2) -> t1.compareTo(t2);
        return byTask;
    }

}
```
###### /java/seedu/whatsleft/model/activity/StartDate.java
``` java
/**
 * Represents an event's start date in WhatsLeft.
 * Guarantees: immutable; is valid as declared in {@link #isValidStartDate(String)}
 */
public class StartDate {

    public static final String MESSAGE_STARTDATE_CONSTRAINTS =
            "Event Start Date can take only 6 digits, and it should be in DDMMYY format (Day-Month-Year)\n"
            + "today, tmr, mon, tue, wed, thur, fri, sat, sun, next, following are also accecptable\n"
            + "Example: next fri\n"
            + "Example: 250317\n";

    public final LocalDate value;
```
###### /java/seedu/whatsleft/model/activity/StartDate.java
``` java
    @Override
    public String toString() {
        return value.toString();
    }

    @Override
    public boolean equals(Object other) {
        return other == this // short circuit if same object
                || (other instanceof StartDate // instanceof handles nulls
                && this.value.equals(((StartDate) other).value)); // state check
    }

    @Override
    public int hashCode() {
        return value.hashCode();
    }

    /**
     * Compare with another StartDate object
     *
     * @param a StartDate object
     * @return -1 if this StartDate object is earlier than the given StartDate object
     */
    public int compareTo(StartDate o) {
        return this.getValue().compareTo(o.getValue());
    }

}
```
###### /java/seedu/whatsleft/model/activity/StartTime.java
``` java
/**
 * Represents an Event's StartTime in WhatsLeft.
 * Guarantees: immutable; is valid as declared in {@link #isValidStartTime(String)}
 */
public class StartTime {

    public static final String MESSAGE_STARTTIME_CONSTRAINTS =
            "Event start time can only be in this format: hhmm, e.g. 1300";

    public final LocalTime value;

    /**
     * Validates given start time.
     *
     * @throws IllegalValueException if given start time is invalid.
     */
    public StartTime(String startTimeArg) throws IllegalValueException {
        if (startTimeArg == null) {
            this.value = null;
        } else {
            try {
                this.value = StringUtil.parseStringToTime(startTimeArg);
            } catch (DateTimeException dateTimeException) {
                throw new IllegalValueException(MESSAGE_STARTTIME_CONSTRAINTS);
            }
        }
    }

```
###### /java/seedu/whatsleft/model/activity/Task.java
``` java
    /**
     * Create a task in WhatsLeft
     * Description and priority must be present and not null.
     * @param Description, Priority, ByTime, ByDate, Location, UniqueTagList
     * and a boolean variable that indicates task status
     * @throws IllegalValueException
     */
    public Task(Description description, Priority priority, ByTime byTime, ByDate byDate,
            Location location, UniqueTagList tags, boolean status) {

        assert !CollectionUtil.isAnyNull(description, priority, tags);
        this.description = description;
        this.priority = priority;
        this.byTime = byTime;
        this.byDate = byDate;
        this.location = location;
        this.status = status;
        this.tags = new UniqueTagList(tags); // protect internal tags from changes in the arg list
    }

```
###### /java/seedu/whatsleft/model/activity/Task.java
``` java
    @Override
    public String toString() {
        return getAsText();
    }

    /**
     * get description shown in the card in task list panel
     *
     * @return a string that represents description of the task
     */
    @Override
    public String getDescriptionToShow() {
        return getDescription().toString();
    }

    /**
     * get priority shown in the card in task list panel
     *
     * @return a string that represents priority of the task
     */
    @Override
    public String getPriorityToShow() {
        return "Priority: " + getPriority().toString().toUpperCase();
    }

    /**
     * get ByTimeDate(deadline) shown in the card in task list panel
     *
     * @return a string that represents deadline of the task
     */
    @Override
    public String getByTimeDateToShow() {
        if (hasDeadline()) {
            return "BY " + this.byTime.toString() + " " + this.byDate.toString();
        } else {
            return null;
        }
    }

    /**
     * get location shown in the card in task list panel
     *
     * @return a string that represents location of the task
     */
    @Override
    public String getLocationToShow() {
        if (getLocation().toString() != null) {
            return "@" + getLocation().toString();
        } else {
            return null;
        }

    }

    /**
     * get tags shown in the card in task list panel
     *
     * @return a list of strings that represents tags of the task
     */
    @Override
    public List<String> getTagsToShow() {
        return tags
                .asObservableList()
                .stream()
                .map(tag -> tag.tagName)
                .collect(Collectors.toList());
    }
}
```
###### /java/seedu/whatsleft/model/activity/UniqueEventList.java
``` java
    public void clearAll() {
        internalList.clear();
    }

```
###### /java/seedu/whatsleft/model/activity/UniqueEventList.java
``` java
    /**
     * Adds an event to the list.
     *
     * @throws DuplicateEventException if the event to add is a duplicate of an existing event in the list.
     * @throws DuplicateTimeClashException
     */
    public void add(Event toAdd) throws DuplicateEventException {
        assert toAdd != null;
        if (contains(toAdd)) {
            throw new DuplicateEventException();
        }
        internalList.add(toAdd);
        internalList.sorted();
    }

```
###### /java/seedu/whatsleft/model/activity/UniqueEventList.java
``` java
    /**
     * Updates an event in WhatsLeft.
     *
     * @throws DuplicateEventException if the edited event is a duplicate of an existing event in the list.
     * @throws DuplicateTimeClashException if the edited event clashes with any other event
     */
    public void updateEvent(Event eventToEdit, Event editedEvent) throws UniqueEventList.
        DuplicateEventException {
        assert eventToEdit != null && editedEvent != null;

        if (!eventToEdit.equals(editedEvent) && internalList.contains(editedEvent)) {
            throw new DuplicateEventException();
        }
        int index = internalList.indexOf(eventToEdit);
        internalList.set(index, editedEvent);
        internalList.sorted();
    }

    /**
     * Removes the equivalent event from the list.
     *
     * @throws EventNotFoundException if no such event could be found in the list.
     */
    public boolean remove(ReadOnlyEvent toRemove) throws EventNotFoundException {
        assert toRemove != null;
        final boolean eventFoundAndDeleted = internalList.remove(toRemove);
        if (!eventFoundAndDeleted) {
            throw new EventNotFoundException();
        }
        return eventFoundAndDeleted;
    }

    public void setActivities(UniqueEventList replacement) {
        this.internalList.setAll(replacement.internalList);
    }

    public void setActivities(List<? extends ReadOnlyEvent> events) throws IllegalValueException {
        final UniqueEventList replacement = new UniqueEventList();
        for (final ReadOnlyEvent event : events) {
            replacement.add(new Event(event));
        }
        setActivities(replacement);
    }

    public UnmodifiableObservableList<Event> asObservableList() {
        return new UnmodifiableObservableList<>(internalList);
    }

    @Override
    public Iterator<Event> iterator() {
        return internalList.iterator();
    }

    @Override
    public boolean equals(Object other) {
        return other == this // short circuit if same object
                || (other instanceof UniqueEventList // instanceof handles nulls
                && this.internalList.equals(
                ((UniqueEventList) other).internalList));
    }

    @Override
    public int hashCode() {
        return internalList.hashCode();
    }

    /**
     * Signals that an operation would have violated the 'no duplicates' property of the list.
     */
    public static class DuplicateEventException extends DuplicateDataException {
        protected DuplicateEventException() {
            super("Operation would result in duplicate events");
        }
    }

    /**
     * Signals that an operation targeting a specified event in the list would fail because
     * there is no such matching event in the list.
     */
    public static class EventNotFoundException extends Exception {}

    /**
     * Signals that two events have time clash
     * @author LiChengcheng
     *
     */
    public class DuplicateTimeClashException extends Exception {}

    public void setEvents(List<? extends ReadOnlyEvent> events) throws IllegalValueException {
        final UniqueEventList replacement = new UniqueEventList();
        for (final ReadOnlyEvent event : events) {
            replacement.add(new Event(event));
        }
        setEvents(replacement);
    }

    public void setEvents(UniqueEventList replacement) {
        this.internalList.setAll(replacement.internalList);
    }
}
```
###### /java/seedu/whatsleft/model/activity/UniqueTaskList.java
``` java
    /**
     * Clears all tasks in the task list
     */
    public void clearAll() {
        internalList.clear();
    }

    /**
     * Adds an Task to the task list.
     *
     * @param the task to add into the task list
     * @throws DuplicateTaskException if the Task to add is a duplicate of an existing Task in the list.
     */
    public void add(Task toAdd) throws DuplicateTaskException {
        assert toAdd != null;
        if (contains(toAdd)) {
            throw new DuplicateTaskException();
        }
        internalList.add(toAdd);
    }

    /**
     * Updates(edits) a task in WhatsLeft.
     *
     * @param a task to edit and an edit task
     * @throws DuplicateTaskException if the edited task is a duplicate of an existing task in the list.
     */
    public void updateTask(Task taskToEdit, Task editedTask) throws UniqueTaskList.DuplicateTaskException {
        assert taskToEdit != null && editedTask != null;

        if (!taskToEdit.equals(editedTask) && internalList.contains(editedTask)) {
            throw new DuplicateTaskException();
        }

        int index = internalList.indexOf(taskToEdit);
        taskToEdit.resetData(editedTask);
        internalList.set(index, editedTask);
        internalList.sorted();
    }

```
###### /java/seedu/whatsleft/model/Model.java
``` java
    /** Clears all events in WhatsLeft*/
    void resetEvent();

    /** Clears all tasks in WhatsLeft*/
    void resetTask();

```
###### /java/seedu/whatsleft/model/Model.java
``` java
    /**
     * Updates the Event located at {@code filteredEventListIndex} with {@code editedEvent}.
     * @param the event to be edited and the edited event
     * @throws DuplicateEventException if updating the Event's details causes the Event to be equivalent to
     *      another existing Event in the list.
     */
    void updateEvent(Event eventToEdit, Event editedEvent)
            throws UniqueEventList.DuplicateEventException;

    /**
     * Updates the Task located at {@code filteredTaskListIndex} with {@code editedTask}.
     * @param the task to be edited and the edited task
     * @throws DuplicateTaskException if updating the Task's details causes the Task to be equivalent to
     *      another existing Task in the list.
     */
    void updateTask(Task taskToEdit, Task editedTask)
            throws UniqueTaskList.DuplicateTaskException;

    /** Returns the filtered Task list as an {@code UnmodifiableObservableList<ReadOnlyTask>} */
    UnmodifiableObservableList<ReadOnlyTask> getFilteredTaskList();

    /** Returns the filtered Event list as an {@code UnmodifiableObservableList<ReadOnlyEvent>} */
    UnmodifiableObservableList<ReadOnlyEvent> getFilteredEventList();

    /** Updates the filters of the filtered Event list and filtered Task list to show all activities */
    public void updateFilteredListToShowAll();

    /** Updates the filter of the filtered Task list to filter by the given keywords*/
    void updateFilteredTaskList(Set<String> keywords);

    /** Updates the filter of the filtered Event list to filter by the given keywords*/
    void updateFilteredEventList(Set<String> keywords);

    /** Empties the previousCommand list and adds the newest one in, always keeping only one command*/
    void storePreviousCommand(String command);

```
###### /java/seedu/whatsleft/model/Model.java
``` java
    /** Finds the index of the event in the filtered event list*/
    int findEventIndex(Event event);

    /** Finds the index of the task in the filtered task list*/
    int findTaskIndex(Task task);

```
###### /java/seedu/whatsleft/model/ModelManager.java
``` java
/**
 * Represents the in-memory model of the WhatsLeft data. All changes to any
 * model should be synchronized.
 */
public class ModelManager extends ComponentManager implements Model {
    private static final Logger logger = LogsCenter.getLogger(ModelManager.class);

    public static final String DISPLAY_STATUS_COMPLETED = "COMPLETED";
    public static final String DISPLAY_STATUS_ALL = "ALL";
    public static final String DISPLAY_STATUS_PENDING = "PENDING";

    private final WhatsLeft whatsLeft;
    private final FilteredList<ReadOnlyEvent> filteredEvents;
    private final FilteredList<ReadOnlyTask> filteredTasks;
    private static String previousCommand;
    private static WhatsLeft previousState;
    private static String displayStatus;

```
###### /java/seedu/whatsleft/model/ModelManager.java
``` java
    public ModelManager() {
        this(new WhatsLeft(), new UserPrefs());
    }

    @Override
    public void resetData(ReadOnlyWhatsLeft newData) {
        whatsLeft.resetData(newData);
        indicateWhatsLeftChanged();
    }

    @Override
    public void resetEvent() {
        whatsLeft.resetEventData();
        indicateWhatsLeftChanged();
    }

    @Override
    public void resetTask() {
        whatsLeft.resetTaskData();
        indicateWhatsLeftChanged();
    }

    @Override
    public ReadOnlyWhatsLeft getWhatsLeft() {
        return whatsLeft;
    }

    /** Raises an event to indicate the model has changed */
    private void indicateWhatsLeftChanged() {
        raise(new WhatsLeftChangedEvent(whatsLeft));
    }
```
###### /java/seedu/whatsleft/model/ModelManager.java
``` java
    /**
     * add an event to whatsleft
     *
     * @param an event to add
     * @throws DuplicateEventException to prevent duplicate events
     */
    @Override
    public synchronized void addEvent(Event event)
            throws UniqueEventList.DuplicateEventException {
        whatsLeft.addEvent(event);
        updateFilteredListToShowAll();
        indicateWhatsLeftChanged();
    }

    /**
     * add a task to whatsleft
     *
     * @param a task to add
     * @throws DuplicateTaskException to prevent duplicate tasks
     */
    @Override
    public synchronized void addTask(Task task) throws UniqueTaskList.DuplicateTaskException {
        whatsLeft.addTask(task);
        updateFilteredListToShowAll();
        indicateWhatsLeftChanged();
    }

    /**
     * update/edit an event in whatsleft
     *
     * @param an event to edit and an edited event
     * @throws DuplicateEventException to prevent duplicate events
     */
    @Override
    public void updateEvent(Event eventToEdit, Event editedEvent)
            throws UniqueEventList.DuplicateEventException {
        assert editedEvent != null;

        whatsLeft.updateEvent(eventToEdit, editedEvent);
        indicateWhatsLeftChanged();
    }

    /**
     * update/edit a task in whatsleft
     *
     * @param a task to edit and an edited task
     * @throws DuplicateTaskException to prevent duplicate tasks
     */
    @Override
    public void updateTask(Task taskToEdit, Task editedTask)
            throws UniqueTaskList.DuplicateTaskException {
        assert editedTask != null;

        whatsLeft.updateTask(taskToEdit, editedTask);
        indicateWhatsLeftChanged();
    }

```
###### /java/seedu/whatsleft/model/ModelManager.java
``` java
    @Override
    public UnmodifiableObservableList<ReadOnlyEvent> getFilteredEventList() {
        SortedList<ReadOnlyEvent> sortedEvents = new SortedList<ReadOnlyEvent>(filteredEvents);
        sortedEvents.setComparator(ReadOnlyEvent.getComparator());
        return new UnmodifiableObservableList<ReadOnlyEvent>(sortedEvents);
    }

    @Override
    public UnmodifiableObservableList<ReadOnlyTask> getFilteredTaskList() {
        SortedList<ReadOnlyTask> sortedTasks = new SortedList<ReadOnlyTask>(filteredTasks);
        sortedTasks.setComparator(ReadOnlyTask.getComparator());
        return new UnmodifiableObservableList<ReadOnlyTask>(sortedTasks);
    }

```
###### /java/seedu/whatsleft/model/util/SampleDataUtil.java
``` java
public class SampleDataUtil {
    public static Event[] getSampleEvents() {
        try {
            return new Event[] {
                new Event(new Description("Welcome! Events are shown here!"), new StartTime("0001"),
                        new StartDate("today"),  new EndTime("2359"), new EndDate("today"),
                    new Location("Home"), new UniqueTagList()),

            };
        } catch (IllegalValueException e) {
            throw new AssertionError("sample data cannot be invalid", e);
        }
    }

    public static Task[] getSampleTasks() {
        try {
            return new Task[] {
                new Task(new Description("You will find Tasks here!"), new Priority("high"),
                        new ByTime("2359"), new ByDate("today"),
                    new Location("Home"), new UniqueTagList(), false),

            };
        } catch (IllegalValueException e) {
            throw new AssertionError("sample data cannot be invalid", e);
        }
    }

    public static ReadOnlyWhatsLeft getSampleWhatsLeft() {
        try {
            WhatsLeft sampleWhatsLeft = new WhatsLeft();
            for (Event sampleEvent : getSampleEvents()) {
                sampleWhatsLeft.addEvent(sampleEvent);
            }
            for (Task sampleTask : getSampleTasks()) {
                sampleWhatsLeft.addTask(sampleTask);
            }
            return sampleWhatsLeft;
        } catch (DuplicateEventException e) {
            throw new AssertionError("sample data cannot contain duplicate events", e);
        } catch (DuplicateTaskException t) {
            throw new AssertionError("sample data cannot contain duplicate tasks", t);
        }
    }
}
```
###### /java/seedu/whatsleft/model/WhatsLeft.java
``` java
    public void resetEventData() {
        events.clearAll();
    }

    public void resetTaskData() {
        tasks.clearAll();
    }

//// activity-level operations

    /**
     * Adds a task to WhatsLeft.
     * Also checks the new task's tags and updates {@link #tags} with any new tags found,
     * and updates the Tag objects in the task to point to those in {@link #tags}.
     *
     * @throws UniqueTaskList.DuplicateTaskException if an equivalent task already exists.
     */
    public void addTask(Task t) throws UniqueTaskList.DuplicateTaskException {
        syncMasterTagListWith(t);
        tasks.add(t);
    }

    /**
     * Adds a event to WhatsLeft.
     * Also checks the new event's tags and updates {@link #tags} with any new tags found,
     * and updates the Tag objects in the event to point to those in {@link #tags}.
     *
     * @throws UniqueEventList.DuplicateEventException if an equivalent event already exists.
     * @throws DuplicateTimeClashException if another event with time that clashes exist.
     */
    public void addEvent(Event e) throws UniqueEventList.DuplicateEventException {
        syncMasterTagListWith(e);
        events.add(e);
    }

```
###### /java/seedu/whatsleft/model/WhatsLeft.java
``` java
    /**
     * Updates the event in the list at position {@code index} with {@code editedReadOnlyEvent}.
     * {@code WhatsLeft}'s tag list will be updated with the tags of {@code editedReadOnlyEvent}.
     * @see #syncMasterTagListWith(Event)
     *
     * @throws DuplicateEventException if updating the event's details causes the event to be equivalent to
     *      another existing event in the list.
     * @throws DuplicateTimeClashException if the updating event clashes with another event
     * @throws IndexOutOfBoundsException if {@code index} < 0 or >= the size of the list.
     */
    public void updateEvent(Event eventToEdit, Event editedEvent)
            throws UniqueEventList.DuplicateEventException {
        assert editedEvent != null;

        syncMasterTagListWith(editedEvent);
        // TODO: the tags master list will be updated even though the below line fails.
        // This can cause the tags master list to have additional tags that are not tagged to any event
        // in the event list.
        events.updateEvent(eventToEdit, editedEvent);
    }

    /**
     * Updates the task in the list at position {@code index} with {@code editedReadOnlyTask}.
     * {@code WhatsLeft}'s tag list will be updated with the tags of {@code editedReadOnlyTask}.
     * @see #syncMasterTagListWith(Task)
     *
     * @throws DuplicateTaskException if updating the task's details causes the task to be equivalent to
     *      another existing task in the list.
     * @throws IndexOutOfBoundsException if {@code index} < 0 or >= the size of the list.
     */
    public void updateTask(Task taskToEdit, Task editedTask)
            throws UniqueTaskList.DuplicateTaskException {
        assert taskToEdit != null;

        syncMasterTagListWith(editedTask);
        // TODO: the tags master list will be updated even though the below line fails.
        // This can cause the tags master list to have additional tags that are not tagged to any task
        // in the task list.
        tasks.updateTask(taskToEdit, editedTask);
    }

```
###### /java/seedu/whatsleft/storage/XmlAdaptedEvent.java
``` java
    /**
     * Converts a given Event into this class for JAXB use.
     *
     * @param source future changes to this will not affect the created XmlAdaptedEvent
     */
    public XmlAdaptedEvent(ReadOnlyEvent source) {
        description = source.getDescription().toString();
        startTime = source.getStartTime().getValue();
        startDate = source.getStartDate().getValue();
        endTime = source.getEndTime().getValue();
        endDate = source.getEndDate().getValue();
        location = source.getLocation().value;
        tagged = new ArrayList<>();
        for (Tag tag : source.getTags()) {
            tagged.add(new XmlAdaptedTag(tag));
        }
    }
```
###### /java/seedu/whatsleft/storage/XmlAdaptedTask.java
``` java
    /**
     * Converts a given Task into this class for JAXB use.
     *
     * @param source future changes to this will not affect the created XmlAdaptedTask
     */
    public XmlAdaptedTask(ReadOnlyTask source) {
        description = source.getDescription().toString();
        priority = source.getPriority().toString();
        byTime = source.getByTime().getValue();
        byDate = source.getByDate().getValue();
        location = source.getLocation().value;
        tagged = new ArrayList<>();
        for (Tag tag : source.getTags()) {
            tagged.add(new XmlAdaptedTag(tag));
        }
        status = source.getStatus();
    }
```
###### /java/seedu/whatsleft/ui/EventCard.java
``` java
public class EventCard extends UiPart<Region> {

    private static final String FXML = "EventListCard.fxml";

    @FXML
    private HBox cardPane;
    @FXML
    private Label description;
    @FXML
    private Label id;
    @FXML
    private Label duration;
    @FXML
    private Label locations;
    @FXML
    private FlowPane tags;

```
###### /java/seedu/whatsleft/ui/EventListPanel.java
``` java
/**
 * Panel containing the list of activities.
 */
public class EventListPanel extends UiPart<Region> {
    private final Logger logger = LogsCenter.getLogger(EventListPanel.class);
    private static final String FXML = "EventListPanel.fxml";

    @FXML
    private ListView<ReadOnlyEvent> eventListView;

    public EventListPanel(AnchorPane eventListPlaceholder, ObservableList<ReadOnlyEvent> eventList) {
        super(FXML);
        setConnections(eventList);
        addToPlaceholder(eventListPlaceholder);
    }

    private void setConnections(ObservableList<ReadOnlyEvent> eventList) {
        eventListView.setItems(eventList);
        eventListView.setCellFactory(listView -> new EventListViewCell());
        setEventHandlerForSelectionChangeEvent();
    }

    private void addToPlaceholder(AnchorPane placeHolderPane) {
        SplitPane.setResizableWithParent(placeHolderPane, false);
        FxViewUtil.applyAnchorBoundaryParameters(getRoot(), 0.0, 0.0, 0.0, 0.0);
        placeHolderPane.getChildren().add(getRoot());
    }

    private void setEventHandlerForSelectionChangeEvent() {
        eventListView.getSelectionModel().selectedItemProperty()
                .addListener((observable, oldValue, newValue) -> {
                    if (newValue != null) {
                        logger.fine("Selection in event list panel changed to : '" + newValue + "'");
                        raise(new EventPanelSelectionChangedEvent(newValue));
                    }
                });
    }

    public void scrollTo(int index) {
        Platform.runLater(() -> {
            eventListView.scrollTo(index);
            eventListView.getSelectionModel().clearAndSelect(index);
        });
    }

    class EventListViewCell extends ListCell<ReadOnlyEvent> {

        @Override
        protected void updateItem(ReadOnlyEvent event, boolean empty) {
            super.updateItem(event, empty);

            if (empty || event == null) {
                setGraphic(null);
                setText(null);
            } else if (event.getStartDate().value != null) {
                setGraphic(new EventCard(event, getIndex() + 1).getRoot());
            }
        }
    }

}
```
###### /java/seedu/whatsleft/ui/MainWindow.java
``` java

```
###### /java/seedu/whatsleft/ui/TaskCard.java
``` java
public class TaskCard extends UiPart<Region> {

    private static final String FXML = "TaskListCard.fxml";

    @FXML
    private HBox cardPane;
    @FXML
    private Label description;
    @FXML
    private Label id;
    @FXML
    private Label priority;
    @FXML
    private Label byTimeDate;
    @FXML
    private Label locations;
    @FXML
    private FlowPane tags;

```
###### /java/seedu/whatsleft/ui/TaskListPanel.java
``` java
/**
 * Panel containing the list of activities.
 */
public class TaskListPanel extends UiPart<Region> {
    private final Logger logger = LogsCenter.getLogger(TaskListPanel.class);
    private static final String FXML = "TaskListPanel.fxml";

    @FXML
    private ListView<ReadOnlyTask> taskListView;

    public TaskListPanel(AnchorPane taskListPlaceholder, ObservableList<ReadOnlyTask> taskList) {
        super(FXML);
        setConnections(taskList);
        addToPlaceholder(taskListPlaceholder);
    }

    private void setConnections(ObservableList<ReadOnlyTask> taskList) {
        taskListView.setItems(taskList);
        taskListView.setCellFactory(listView -> new TaskListViewCell());
        setTaskHandlerForSelectionChangeEvent();
    }

    private void addToPlaceholder(AnchorPane placeHolderPane) {
        SplitPane.setResizableWithParent(placeHolderPane, false);
        FxViewUtil.applyAnchorBoundaryParameters(getRoot(), 0.0, 0.0, 0.0, 0.0);
        placeHolderPane.getChildren().add(getRoot());
    }

    private void setTaskHandlerForSelectionChangeEvent() {
        taskListView.getSelectionModel().selectedItemProperty()
                .addListener((observable, oldValue, newValue) -> {
                    if (newValue != null) {
                        logger.fine("Selection in task list panel changed to : '" + newValue + "'");
                        raise(new TaskPanelSelectionChangedEvent(newValue));
                    }
                });
    }

    public void scrollTo(int index) {
        Platform.runLater(() -> {
            taskListView.scrollTo(index);
            taskListView.getSelectionModel().clearAndSelect(index);
        });
    }

    class TaskListViewCell extends ListCell<ReadOnlyTask> {

        @Override
        protected void updateItem(ReadOnlyTask task, boolean empty) {
            super.updateItem(task, empty);

            if (empty || task == null) {
                setGraphic(null);
                setText(null);
            } else {
                setGraphic(new TaskCard(task, getIndex() + 1).getRoot());
            }
        }
    }

}
```
###### /java/seedu/whatsleft/ui/UiManager.java
``` java
/**
 * The manager of the UI component.
 */
public class UiManager extends ComponentManager implements Ui {
    private static final Logger logger = LogsCenter.getLogger(UiManager.class);
    private static final String ICON_APPLICATION = "/images/WhatsLeft.png";
    public static final String ALERT_DIALOG_PANE_FIELD_ID = "alertDialogPane";

    private Logic logic;
    private Config config;
    private UserPrefs prefs;
    private MainWindow mainWindow;

    public UiManager(Logic logic, Config config, UserPrefs prefs) {
        super();
        this.logic = logic;
        this.config = config;
        this.prefs = prefs;
    }

    @Override
    public void start(Stage primaryStage) {
        logger.info("Starting UI...");
        primaryStage.setTitle(config.getAppTitle());

        // Set the application icon.
        primaryStage.getIcons().add(getImage(ICON_APPLICATION));

        try {
            mainWindow = new MainWindow(primaryStage, config, prefs, logic);
            mainWindow.show(); // This should be called before creating other UI parts
            mainWindow.fillInnerParts();

        } catch (Throwable e) {
            logger.severe(StringUtil.getDetails(e));
            showFatalErrorDialogAndShutdown("Fatal error during initializing", e);
        }
    }

    @Override
    public void stop() {
        prefs.updateLastUsedGuiSetting(mainWindow.getCurrentGuiSetting());
        mainWindow.hide();
    }

    private void showFileOperationAlertAndWait(String description, String details, Throwable cause) {
        final String content = details + ":\n" + cause.toString();
        showAlertDialogAndWait(AlertType.ERROR, "File Op Error", description, content);
    }

    private Image getImage(String imagePath) {
        return new Image(MainApp.class.getResourceAsStream(imagePath));
    }

    void showAlertDialogAndWait(Alert.AlertType type, String title, String headerText, String contentText) {
        showAlertDialogAndWait(mainWindow.getPrimaryStage(), type, title, headerText, contentText);
    }

    private static void showAlertDialogAndWait(Stage owner, AlertType type, String title, String headerText,
            String contentText) {
        final Alert alert = new Alert(type);
        alert.getDialogPane().getStylesheets().add("view/DarkTheme.css");
        alert.initOwner(owner);
        alert.setTitle(title);
        alert.setHeaderText(headerText);
        alert.setContentText(contentText);
        alert.getDialogPane().setId(ALERT_DIALOG_PANE_FIELD_ID);
        alert.showAndWait();
    }

    private void showFatalErrorDialogAndShutdown(String title, Throwable e) {
        logger.severe(title + " " + e.getMessage() + StringUtil.getDetails(e));
        showAlertDialogAndWait(Alert.AlertType.ERROR, title, e.getMessage(), e.toString());
        Platform.exit();
        System.exit(1);
    }

```
###### /resources/view/EventListPanel.fxml
``` fxml
<VBox xmlns="http://javafx.com/javafx/8" xmlns:fx="http://javafx.com/fxml/1">
    <stylesheets>
        <URL value="@WhiteTheme.css" />
        <URL value="@Extensions.css" />
    </stylesheets>
    <children>
        <ListView fx:id="eventListView" VBox.vgrow="ALWAYS" />
    </children>
</VBox>
```
###### /resources/view/MainWindow.fxml
``` fxml

```
###### /resources/view/ResultDisplay.fxml
``` fxml
<AnchorPane fx:id="placeHolder" styleClass="anchor-pane-with-border" xmlns="http://javafx.com/javafx/8"
            xmlns:fx="http://javafx.com/fxml/1">
    <stylesheets>
        <URL value="@WhiteTheme.css"/>
        <URL value="@Extensions.css"/>
    </stylesheets>
    <AnchorPane fx:id="mainPane">
        <TextArea fx:id="resultDisplay" editable="false" styleClass="result-display"/>
    </AnchorPane>
</AnchorPane>
```
###### /resources/view/TaskListCard.fxml
``` fxml
<HBox id="cardPane" fx:id="cardPane" xmlns="http://javafx.com/javafx/8" xmlns:fx="http://javafx.com/fxml/1">
    <children>
        <GridPane HBox.hgrow="ALWAYS">
            <columnConstraints>
                <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="150.0" />
            </columnConstraints>
            <children>
                <VBox alignment="CENTER_LEFT" minHeight="80.0" GridPane.columnIndex="0">
                    <stylesheets>
                        <URL value="@WhiteTheme.css" />
                        <URL value="@Extensions.css" />
                    </stylesheets>
                    <padding>
                        <Insets bottom="1" left="15" right="5" top="1" />
                    </padding>

                    <children>
                        <HBox spacing="5" alignment="CENTER_LEFT">
                            <children>
                                <HBox>
                                    <Label fx:id="id" styleClass="cell_big_label"></Label>
                                    <Label fx:id="description" text="\$initial" styleClass="cell_big_label"/>
                                </HBox>
                            </children>
                        </HBox>
                        <FlowPane fx:id="tags" />
                        <Label fx:id="priority" styleClass="cell_small_label" text="\$priority" />
                        <Label fx:id="byTimeDate" styleClass="cell_small_label" text="\$byTimeDate" />
                        <Label fx:id="locations" styleClass="cell_medium_label" text="\$location" />
                    </children>
                </VBox>
            </children>
        </GridPane>
    </children>
</HBox>
```
###### /resources/view/TaskListPanel.fxml
``` fxml
<VBox xmlns="http://javafx.com/javafx/8" xmlns:fx="http://javafx.com/fxml/1">
    <stylesheets>
        <URL value="@WhiteTheme.css" />
        <URL value="@Extensions.css" />
    </stylesheets>
    <children>
        <ListView fx:id="taskListView" VBox.vgrow="ALWAYS" />
    </children>
</VBox>
```
