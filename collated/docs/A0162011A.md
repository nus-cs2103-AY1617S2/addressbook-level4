# A0162011A
###### /DeveloperGuide.md
``` md
# ToLuist - Developer Guide

By : `Team ToLuist`  &nbsp;&nbsp;&nbsp;&nbsp; Since: `Jan 2017`  &nbsp;&nbsp;&nbsp;&nbsp; Licence: `MIT`

1. [Introduction](#1-introduction)
2. [Setting Up](#2-setting-up)
3. [Design](#3-design)
4. [Implementation](#4-implementation)
5. [Testing](#5-testing)
6. [Dev Ops](#6-dev-ops)

* [Appendix A: User Stories](#appendix-a--user-stories)
* [Appendix B: Use Cases](#appendix-b--use-cases)
* [Appendix C: Non Functional Requirements](#appendix-c--non-functional-requirements)
* [Appendix D: Glossary](#appendix-d--glossary)
* [Appendix E : Product Survey](#appendix-e--product-survey)


## 1. Introduction

Welcome to ToLuist's Developer Guide.

By going through this document, you will learn how to set up the project, understand the architecture of the 
application as well as know how to troubleshoot some common development issues.

We have organized the guide in a top-down manner so that, as a new developer, you can look at the big picture of the project
 before zooming in on specific components.

## 2. Setting up

### 2.1. Prerequisites

Here are some tasks you should to complete before diving into the project.

1. Install **JDK `1.8.0_60`**  or later<br>

    > Having any Java 8 version is not enough. This app will not work with earlier versions of Java 8.

2. Download and install **Eclipse** Itegrated Development Environment on your computer.
3. Install **e(fx)clipse** plugin for Eclipse 
(Proceed from step 2 
onwards in [this page](http://www.eclipse.org/efxclipse/install.html#for-the-ambitious))
4. Visit Eclipse Marketplace, search for and install **Buildship Gradle 
Integration** plugin.
5. Also from Eclipse Marketplace, install **Checkstyle Plug-in** plugin.


### 2.2. Importing the project into Eclipse

1. Fork this repo, and clone the fork to your computer
2. Open Eclipse (Note: Ensure you have installed the **e(fx)clipse** and **buildship** plugins as given
   in the prerequisites above)
3. Click `File` > `Import`
4. Click `Gradle` > `Gradle Project` > `Next` > `Next`
5. Click `Browse`, then locate the project's directory
6. Click `Finish`

  > * If you are asked whether to 'keep' or 'overwrite' config files, choose to 'keep'.
  > * Depending on your connection speed and server load, it can even take up to 30 minutes for the set up to finish
      (This is because Gradle downloads library files from servers during the project set up process)
  > * If Eclipse auto-changed any settings files during the import process, you can discard those changes.

### 2.3. Configuring Checkstyle

1. Click `Project` -> `Properties` -> `Checkstyle` -> `Local Check Configurations` -> `New...`
2. Choose `External Configuration File` under `Type`
3. Enter an arbitrary configuration name e.g. toluist
4. Import checkstyle configuration file found at `config/checkstyle/checkstyle.xml`
5. Click OK once, go to the `Main` tab, use the newly imported check configuration.
6. Tick and select `files from packages`, click `Change...`, and select the `resources` package
7. Click OK twice. Rebuild project if prompted

> You should click on the `files from packages` text after ticking in order to enable the `Change...` button

### 2.4. Troubleshooting project setup

**Problem: Eclipse reports compile errors after new commits are pulled from Git**

* Reason: Eclipse fails to recognize new files that appeared due to the Git pull.
* Solution: Refresh the project in Eclipse:<br>
  Right click on the project (in Eclipse package explorer), choose `Gradle` -> `Refresh Gradle Project`.

**Problem: Eclipse reports some required libraries missing**

* Reason: Required libraries may not have been downloaded during the project import.
* Solution: [Run tests using Gradle](UsingGradle.md) once (to refresh the libraries).

```
###### /DeveloperGuide.md
``` md
### 3.7. Common classes

Classes used by multiple components are in the `seedu.toluist.commons` package.

## 4. Implementation

### 4.1. Logging

We are using `java.util.logging` package for logging. The `LogsCenter` class is used to manage the logging levels
and logging destinations.

* You can control the logging level by using the `logLevel` setting in the configuration file
  (See [Configuration](#configuration)).
* You can obtain the `Logger` for a class by using `LogsCenter.getLogger(Class)` which will log messages according to
  the specified logging level.
* Currently log messages are output through `Console` and to a `.log` file.

**Logging Levels**

* `SEVERE` : Critical problem detected which may possibly cause the termination of the application.
* `WARNING` : Can continue, but with caution.
* `INFO` : Information showing the noteworthy actions by the App.
* `FINE` : Details that is not usually noteworthy but may be useful in debugging.
  e.g. The actual list is printed instead of just its size.

### 4.2. Configuration

You can control certain properties of the application (e.g App name, logging level) through the configuration file
(default: `config.json`).

## 5. Testing

You can find the tests in the `./src/test/java` folder.

**In Eclipse**:

* To run all tests, right-click on the `src/test/java` folder and choose
  `Run as` > `JUnit Test`
* To run a subset of tests, you can right-click on a test package, test class, or a test and choose
  to run as a JUnit test.

**Using Gradle**:

* See [UsingGradle.md](UsingGradle.md) for how to run tests using Gradle.

We have two types of tests:

1. **GUI Tests** - These are _System Tests_ that test the entire App by simulating user actions on the GUI.
   These are in the `guitests` package.

2. **Non-GUI Tests** - These are tests not involving the GUI. They include,
   1. _Unit tests_ targeting the lowest level methods/classes. <br>
      e.g. `seedu.toluist.commons.UrlUtilTest`
   2. _Integration tests_ that are checking the integration of multiple code units
     (those code units are assumed to be working).<br>
      e.g. `seedu.toluist.storage.StorageManagerTest`
   3. Hybrids of unit and integration tests. These test are checking multiple code units as well as
      how the are connected together.<br>
      e.g. `seedu.toluist.controller.AddControllerTest`

#### Headless GUI Testing
Thanks to the [TestFX](https://github.com/TestFX/TestFX) library we use,
 our GUI tests can be run in the _headless_ mode.
 In the headless mode, GUI tests do not show up on the screen.
 That means the developer can do other things on the Computer while the tests are running.<br>
 See [UsingGradle.md](UsingGradle.md#running-tests) to learn how to run tests in headless mode.

### 5.1. Troubleshooting tests

 **Problem: Tests fail because NullPointException when AssertionError is expected**

 * Reason: Assertions are not enabled for JUnit tests.
   This can happen if you are not using a recent Eclipse version (i.e. _Neon_ or later)
 * Solution: Enable assertions in JUnit tests as described
   [here](http://stackoverflow.com/questions/2522897/eclipse-junit-ea-vm-option). <br>
   Delete run configurations created when you ran tests earlier.

## 6. Dev Ops

### 6.1. Build Automation

See [UsingGradle.md](UsingGradle.md) to learn how to use Gradle for build automation.

### 6.2. Continuous Integration

We use [Travis CI](https://travis-ci.org/) and [AppVeyor](https://www.appveyor.com/) to perform _Continuous Integration_ on our projects.
See [UsingTravis.md](UsingTravis.md) and [UsingAppVeyor.md](UsingAppVeyor.md) for more details.

### 6.3. Publishing Documentation

See [UsingGithubPages.md](UsingGithubPages.md) to learn how to use GitHub Pages to publish documentation to the
project site.

### 6.4. Making a Release

Here are the steps to create a new release.

 1. Generate a JAR file [using Gradle](UsingGradle.md#creating-the-jar-file).
 2. Tag the repo with the version number. e.g. `v0.1`
 2. [Create a new release using GitHub](https://help.github.com/articles/creating-releases/)
    and upload the JAR file you created.

### 6.5. Managing Dependencies

A project often depends on third-party libraries. For example, ToLuist depends on the
[Jackson library](http://wiki.fasterxml.com/JacksonHome) for JSON parsing. Managing these _dependencies_
can be automated using Gradle. For example, Gradle can download the dependencies automatically, which
is better than these alternatives.<br>
a. Include those libraries in the repo (this bloats the repo size)<br>
b. Require developers to download those libraries manually (this creates extra work for developers)<br>

```
###### /DeveloperGuide.md
``` md
**Google Tasks**

Pros:

* Fast to set up and use.
* Seamless integration with Google Mail and Calendar.
* Easy to sync across multiple devices.
* Small footprint.

Cons:

* Cannot be used offline.
* Inflexible design.
* Lacking in additional features.
```
###### /UserGuide.md
``` md
# ToLuist - User Guide

By : `Team ToLuist`  &nbsp;&nbsp;&nbsp;&nbsp;

---

1. [Introduction](#1-introduction)
2. [Quick Start](#2-quick-start)<br>
    2.1 [Install](#21-install)<br>
    2.2 [Launch](#22-launch)<br>
    2.3 [Get used to the interface](#23-get-used-to-the-interface)<br>
    2.4 [Try out some commands](#24-try-out-some-commands)
3. [Features](#3-features)
4. [Command Summary](#4-command-summary)

## 1. Introduction

Have you ever felt overloaded with work? Don't know where to start?<br>
Now you can use ToLuist, the answer to all of your problems!<br>
ToLuist is an application which will help you to manage all your tasks, allowing you to sort out your life.<br>
ToLuist is designed with you in mind, ensuring that you are able to focus on what is important to you.

```
###### /UserGuide.md
``` md
## 3. Features

ToLuist is focused towards users who like to type.<br>
All the features of the application can be accessed through the use of a keyboard, by entering commands into the on-screen text field.<br>

> **Command Format**
>
> * Words in `UPPER_CASE` are the parameters.
> * Items in `SQUARE_BRACKETS` are optional.
> * Items with `...` after them can have multiple instances.
> * Parameters can be in any order.
> * Options with '/' allow either word to be used.

### 3.1. Viewing help : `help`

If you are a new user of ToLuist, you may need assistance for inputting commands.<br>
`help` shows you all the commands which are available in the system.<br>
Format: `help [COMMAND]`


> * The system will also prompt you to enter 'help' if you enter an incorrect command.
> * If `help` followed by a command word is entered, detailed help for that command will be shown instead.

Examples:

* `help` <br>
  Shows general help information.
* `help add` <br>
  Shows detailed help information for 'add' command.
  
### 3.2. Smart command suggestion :

We understand that it may take time for you to remember all the different command formats. Our smart command 
suggestion feature automatically suggests to you how you can complete your command, based on what 
you already put in the command box.
  
For example, ToLuist suggest to you the command words `add` and `alias` when you type `a`.

   <img src="images/smart-command-word.png" width="600"><br>
   **Figure 3.2a**: `add` and `alias` are suggested as `a` is typed

ToLuist also shows you the parameters available for a command type.

   <img src="images/smart-command-parameter.png" width="600"><br>
   **Figure 3.2b**: Parameters are suggested as ToLuist is aware that you are adding a task

If a command can have multiple options that follow one particular parameter, ToLuist shows you these too.

   <img src="images/smart-command-different-options.png" width="600"><br>
   **Figure 3.2c**: `high` and `low` are suggested as options for task priority

If only one suggestion is shown, you can press kbd>Tab</kbd> to automatically replace the last word of your 
command with the suggestion. If there are multiple suggestions available, you can press <kbd>Tab</kbd> to 
cycle through the list of suggestions, and press <kbd>Enter</kbd> to select one of them.
 
   <img src="images/smart-command-multiple-suggestions.png" width="600"><br>
   **Figure 3.2d**: Suggestions can be cycled through, with highlighting
  

### 3.3. Switching to a different tab : `switch`

When using ToLuist, you may want to switch between different tabs to zoom in on the tasks most important to
 you.<br>
`switch` allows you to view a different subset of the currently displayed tasks.<br>
Format: `switch WINDOWIDENTIFIER`

> * If a number is given for window identifier, that will be the number of the tab from the left which is selected.
> * If a letter is given, it will be the underlined letter in the window list name.
> * If a word is given, it will be the word with the underlined letter in the window list name.
> * You can also use key combination <kbd>Ctrl</kbd> with a number to switch between different tabs.

Example:
* `switch 2` <br>
  Switches the displayed view to 'Today'.
* `switch T` <br>
  Switches the displayed view to 'Today'.
* You press <kbd>Ctrl</kbd> + <kbd>5</kbd> on the keyboard. <br>
  Switches the displayed view to 'All'.


```
###### /UserGuide.md
``` md
### 3.6. Filter all tasks for a given keyword: `filter`

As you list of tasks grows, you may find the need to filter your todo list to locate a particularly 
important task.
`filter` allows you to finds tasks whose names or tags contain any of the given keywords.<br>
Format: `filter/list/find [KEYWORDS] [/tag] [/name]`

> * The search is case insensitive. e.g `hans` will match `Hans`
> * The order of the keywords does not matter. e.g. `Hans Bo` will match `Bo Hans`
> * By default the name and tag is searched.
> * Adding 'tag/' will search by only tag.
> * Adding 'name/' will search by only name.
> * If no keyword is entered, the list of all tasks is displayed.
> * Partial words will be matched. e.g. `Han` will match `Hans`
> * Tasks matching at least one keyword will be returned (i.e. `OR` search).
    e.g. `Hans` will match `Hans Bo`
> * Search terms that are used in the current search will pop up as suggestions in subsequent searches.

Examples:

* `find Assignment`<br>
  Lists any task with `Assignment` in their names or tags.
* `find Assignment Project Tutorial`<br>
  Returns any task having `Assignment`, `Project`, or `Tutorial` in their names or tags.
* `find school /tag` <br>
  Returns any task with the word 'school' in the tag name.

### 3.7. Sort all tasks in a given order: `sort`

You may feel the need to sort your tasks in some order, so that the tasks that require your immediate 
attention stand out at the top.<br>
`sort` allows you to re-order the task list according to a category you specify.<br>
Format: `sort CATEGORY(priority/enddate/startdate/description/overdue/default)...`

> * The category entered will be given higher preference for sorting.
> * By default, the sorted order is: overdue -> priority -> enddate -> startdate -> description
> * Using 'default' as the category will revert the sorting order to the above mentioned default.
> * Multiple categories can be used. The list will be sorted in order based on which category was entered first.

Examples:

* `sort priority`<br>
  Changes the sorting order to sort by priority first.
* `sort enddate description`<br>
  Changes the sorting order to sort by enddate, then description.
* `sort default`<br>
  Changes the sorting order to the default sort.

```
###### /UserGuide.md
``` md
### 3.10. Add a Tag to a Task : `tag`

You may want to differentiate your tasks by categories.<br>
`tag` allows you to add a tag or multiple tags to an existing task. <br>
Format: `tag INDEX TAG...`

> * If the tag already exists, the command will notify you and do nothing.
> * If multiple tags are used in the command, you will be notified of each one.

Example:
* `tag 1 school` <br>
  Adds the tag 'school' to task 1.
* `tag 2 work home` <br>
  Adds the tags 'work' and 'home' to task 2.

### 3.11. Remove a Tag from a Task : `untag`

You may change your mind and decide to remove a category from a task.<br>
`untag` allows you to remove a tag or multiple tags from an existing task. <br>
Format: `untag INDEX TAG...`

> * If the tag already does not exist, the command will notify you and do nothing.
> * If multiple tags are used in the command, you will be notified of each one.

Example:
* `untag 1 school` <br>
  Removes the tag 'school' from task 1.
* `untag 2 work home` <br>
  Removes the tags 'work' and 'home' from task 2.

### 3.12. Clearing all entries : `clear`

Occasionally, the stress may get to you, and you want to start from a clean slate.<br>
`clear` allows you to clear all entries from the todo list.<br>
Format: `clear`

```
###### /UserGuide.md
``` md
### 3.15. Viewing previous commands and accessing them : `history`

You may want to check what you have previously entered.<br>
`history` shows you your previous commands entered in the current session. <br>
Format: `history`

> * Previous commands are listed in order from latest command to earlier command.
> * Alternatively, pressing on the <kbd>up</kbd> and <kbd>down</kbd> arrow keys on the keyboard will cycle through the commands previously entered.

Examples:
* `add Test` <br>
  `history` <br>
  Shows `add Test` in the list.
* `add Test` <br>
  Press on the <kbd>up</kbd> arrow key. <br>
  Shows `add Test` in your input text field.

### 3.16. Add alias for any phrase: `alias`

For long commands like `mark complete`, you may want to have a shortcut for it.<br>
`alias` allows you to add an alias for a phrase. <br>
Format: `alias ALIAS PHRASE`

> * Once added, alias can be used instead of the phrase to perform operations. In subsequent commands, if 
the first word is detected to an alias, the command will give the same result as if the command starts the 
aliased phrase.
> * The phrase can be multiple words long. It can be anything, not necessarily a command word.
> * Parameter suggestion is also supported for commands that uses an alias. For example, if `a` is set as 
an alias for `add`, the parameters for adding task are also suggested when `a a task` is typed.

Example:
* `alias hs history` <br>
  `hs` <br>
  Shows `alias hs history` in the list.
* `alias addTaskNamedTest add Test` <br>
  `addTaskNamedTest` <br>
  Performs the command `add Test` which will add a new task called 'Test'.

### 3.17. Delete alias for commands: `unalias`

You may an alias no longer suitable, and want to remove it from ToLuist.<br>
`unalias` allows you to remove an alias for a phrase.<br>
Format: `unalias ALIAS`

Example:
* `alias hs history` <br>
  `unalias hs` <br>
  Removes the alias 'hs'.

### 3.18. View aliases for commands: `viewalias`

You may get forgetful and forget the aliases you set in ToLuist.<br>
`viewalias` shows you all the aliases currently set in the system. <br>
Format: `viewalias`

> * Lists aliases in the format `ALIAS:PHRASE`.

Example:
* `alias hs history` <br>
  `viewalias` <br>
  Shows `hs:history` in the list.

### 3.19. Saving the data

You would want to have your data on your computer always updated, even if you close and re-open 
the application.<br>
ToLuist data are saved in the hard disk automatically after any command that changes the data. By default, 
the data is saved `data/toluist.json`, relative to the `toluist.jar` executable file.<br>
There is no need to save manually.

### 3.20. Change storage location for save data: `save`

Occasionally, you may want to change the save location of the application, such as if you are 
moving it to a Dropbox folder.<br>
`save` changes the location for the storage file used in this system. <br>
Warning: If a file with the requested name already exists, it will be overwritten. <br>
Format: `save NEWFILELOCATION`

> * All data will be moved to the new file location.
> * If the file does not exist, the file will be created.
> * The old file will be removed.
> * This feature is similar to the `Save as...` feature in other applications.

Example:
* `save data/savefile.txt` <br>
  Sets the save storage location to `data/savefile.txt`.

### 3.21. Change storage location for load data: `load`

Occasionally, you may want to load the data from a different location, such as when you want
 to load the data from a file in Dropbox.<br>
`load` changes the location for the storage file used in this system. <br>
Format: `load NEWFILELOCATION`

> * The new save location will be updated to the location.
> * The program will replace the data in the program with data from the new file location.
> * If the file does not exist, an error message will be displayed.
> * Warning: The old data in the program will stay in the old save file, and will not be updated with new values.

Example:
* `load data/savefile.txt` <br>
  Sets the load storage location to `data/savefile.txt`.

### 3.22. Exiting the program : `exit`

After you are done organizing your todo list, you may want to close the application.<br>
`exit` allows you to exit the program.<br>
Format: `exit/quit`

## 4. Command Summary

**Command** | **Format** | **Examples**
-------- | :-------- | :---------
Add | `add NAME [/from STARTDATE /to ENDDATE] [/by ENDDATE] [/repeat PERIOD(day/week/month)] [/priority PRIORITY(high/low)] [/tags TAGS]` | `add Assigment 1 /by Friday /tags school`
Add a Tag to a Task | `tag INDEX TAG...` | `tag 1 school` <br> `tag 3 work home`
Add Alias | `alias ALIAS PHRASE` | `alias hs history`
Change Load Storage Location | `load FILELOCATION` | `load data/savefile.txt`
Change Save Storage Location | `save FILELOCATION` | `save data/savefile.txt`
Clear | `clear`
Delete | `delete INDEX(ES)` | `delete 3`
Delete Alias | `unalias ALIAS` | `unalias hs`
Exit | `exit/quit`
Filter | `filter/list/find [KEYWORDS] [/tag] [/name]` | `find school tag/`
Help | `help [COMMAND]` | 'help add'
History | `history`
Mark a Task Complete or Incomplete | `mark [complete/incomplete] INDEX(ES)` | `mark complete 1` <br> `mark incomplete 2` <br> `mark 3`
Sort | `sort CATEGORY(priority/enddate/startdate/overdue/description/default)...` | 'sort priority'
Switch Display Task Window | `switch WINDOWIDENTIFIER` | `switch 2` <br> `switch T`
Undo | `undo [NUMBER]` | `undo 5` <br> `undo`
Update | `update INDEX [/from STARTDATE /to ENDDATE] [/by ENDDATE] [/repeat PERIOD(day/week/month)] [/stoprepeat] [/priority PRIORITY(high/low)] [/tags TAGS]` | `update 1 /by 11/12/2011`
Remove a Tag from a Task | `untag INDEX TAG...` | `untag 1 school` <br> `untag 3 work home`
Redo | `redo [NUMBER]` | `redo 5` <br> `redo`
View Aliases | `viewalias`
```
